# Clean Coder

마음 다잡고자 영문판으로 다시 읽기 시작.

# CH1. Professionalism

## Be Careful What You Ask For

- 버그를 만들어 천만원 손해가 났다면,
- 내가 이 비용을 지불하는 것이,
- 프로페셔널이라 생각하면 됨.

## Taking Responsibility

> Upon reflection I realized that shipping without testing the routine had been irresponsible. The reason I neglected the test was so I could say I had shipped on time. It was about me saving face. I had not been concerned about the customer, nor about my employer. I had only been concerned about my own reputation. I should have taken responsibility early and told Tom that the tests weren’t complete and that I was not prepared to ship the software on time. That would have been hard, and Tom would have been upset. But no customers would have lost data, and no service managers would have called.

## First, Do No Harm

- 우리 역량을 선한 곳에 쓰는 것을 책임이라 이야기.
- 개발자로써 해를 끼칠 수 있는 것으로는 소프트웨어의 기능과 구조를 꼽음.

### Do No Harm to Function

- 버그를 만들지 않기.
- 소프트웨어가 복잡해서 버그가 생길 수도 있긴 하나,
- 더 복잡한 사람의 몸을 다루는 의사 사례로 반박.
- 어렵다는 핑계로 버그를 만들 수 있다는 생각은 위험.
- 물론, 완벽할 순 없음.
- 하지만 불완전함에 책임져야 함.
- 오류가 0일 순 없으나,
- 오류가 0에 도달하도록 노력하는 것이,
- 우리의 책임.

### QA Should Find Nothing

- QA가 결함을 찾을 수 없어야 함.
- 버그 찾기를 QA에 의존하면 X
- 제대로 작동하는지 확신 못 하면 X.
- 만약 발견되면 사과하고,
- 나는 왜 찾아내지 못했을지 검토하고,
- 예방을 위해 노력.

### You Must Know It Works

- 코드가 제대로 동작하는지 어떻게 알까?
- 테스트하면 됨. 이런 저런 방법으로 테스트.
- 근데 시간이 걸린다고?
- 그럼 자동화 하면 됨.
- 그리고 100% 커버리지 요구.
- 테스트하기 어렵고, 만약 구조적인 이유다?
- 구조를 테스트하기 쉽게 만들 것.

### Automated QA

- 전체 QA 절차는,
- 단위 테스트와 인수 테스트.
- 몇 분이면 끝남.
- 물론 품질이 매우 중요한 곳에는,
- 자동화 테스트로 충분치 않을 수 있으나,
- 품질의 충분 요건이 아닐 뿐 필수.

### Do No Harm to Structure

- 구조를 희생하고 기능을 전달하는 것은 바보.
- 보통 이는 소프트웨어는 변경이 쉽다는 잘못된 가정에 기반.
- 항상 변경이 쉽게 만들어야 함.

## Work Ethic

- 당신의 커리어는 당신의 책임.
- 회사는 의무 없음.
- 시장성, 훈련, 책 구매 모두.
- 만약 이를 돕는다면 그것은 호의.
- 주 40시간은 고용주의 문제에 쓰여야 함.
- 그리고 나머지 20시간을 당신을 위해 사용해야.
- 독서, 연습, 배움 등 경력을 발전시킬 것에.
- 때로는 회사의 일이 경력에 도움되기도.
- 이 경우라면 20시간을 회사에 써도 됨.
- 그래도 이 20시간을 당신을 위한 것임을 잊지 말아야.

### Know Your Field

- 아래 질문들로 시작.
- Nassi-Schneiderman 차트를 아는가?
- Mealy와 Moore의 상태 머신은 아는가?
- 모른다면 왜 모르는가?
- 퀵소트를 혼자 작성해 볼 수 있는가?
- "Transform Analysis"의 의미는 무엇인가?
- 데이터 플로우 다이어그램으로 함수 분해를 할 수 있나?
- "Tramp Data"의 의미는?
- "Conascence"는 들어 봤나?
- Pernas Table은 뭔가?
- 이것이 과거의 데이터이지만,
- 많은 것이 빠르게 변한 반면,
- 여전히 많은 지식들은 여전히 필요로 함.
- `if`와 `while` 문이 아직 쓰이는 것처럼.
- 과거를 기억하지 못하면 이를 반복하기 마련.
- 아래의 것들은 최소한으로 알고 있어야 하는 지식들.
- 디자인 패턴 - GOF, POSA.
- 디자인 원칙 - SOLID, 컴포넌트 원칙
- 방법론 - XP, 스크럼, 린, 칸반, 워터폴, 구조적 분석, 구조적 설계.
- descipline - TDD, OOD, 구조적 프로그래밍, CI, 페어 프로그래밍.
- artifact - UML, DFD, 스트럭처 차트, Petri Nets, 상태 전이 다이어그램과 테이블, 플로우 차트, 의사결정 테이블.

### Continuous Learning

- 꾸준한 배움 없는 의사를 찾아가고 싶은가?
- 법의 변화를 따라가지 않는 변호사가 배정된다면?
- 계속 공부하지 않는 개발자를 왜 고용해야 하는가?

### Practice

- 프로는 연습.
- 일은 퍼포먼스.
- 일 이외에 시간 내어 연습해야 함.
- 저자는 볼링 게임이나 소인수 분해 같은,
- 간단한 문제 풀이를 자주 반복한다고 함.
- 카타(kata)를 연습한다고 이야기.
- 매일 1-2개 진행.
- 여러 언어로 작성.
- 단축키도 반복 연습.
- 아침이나 저녁에 10분 정도 활용.

### Collaboration

- 배움의 2번째 좋은 방법은 다른 이들과의 협동.
- 같이 연습하고 설계하고 프로그래밍 하면서,
- 더 빠르게 일하며, 오류를 줄이고, 많은 것을 배우게 됨.
- 100%의 시간을 여기에 쓰라는 것이 아님.
- 할 수 있는 만큼 최대한 하면 됨.

### Mentoring

- 가장 좋은 배움의 방법은 가르치는 것.
- 책임지고 있는 사람에게 지식과 가치를 전달는 것이,
- 자신에게도 그것들을 전달하는 가장 좋은 방법.
- 이는 쥬니어에게도 중요한 시간.

### Know Your Domain

- 단순히 주어진 스펙을 코딩하는 것이 아니라,
- 왜 이 스펙이 비즈니스에 도움이 되는지 이해하고,
- 스펙에 오류가 있음을 발견하고 이의를 제기할 수 있는 정도로,
- 도메인 지식에 대한 이해가 필요.
- 이유가 나와 있지는 않아서 아쉽.

### Identify with Your Employer/Customer

- 고객/고용주의 문제가 우리의 문제.
- 그들의 관점에서 문제를 바라봐야 함.
- 개발자 vs 그들은 피해야 할 구도.

### Humility

- 프로그래밍이 창조 행위라서 그 자체가 매우 오만한 행위라고 함.
- 그리고 전문가는 이런 오만함을 알고 거짓으로 겸손하지 않는다고 함.
- 능력에 대한 자부심을 가지며, 계산된 리스크를 감당하는 용기를 가짐.
- 한편 언제 실패하는지, 리스크를 잘못 계산했는지도 알 수 있어야.
- 대담해야 할 때와 겸손해야 할 때를 구분.

# CH2. Saying No

> Professionals have the courage to say no to their managers.

- 노예는 no를 말할 수 없음.
- 노동자는 no를 말하기 어려움.
- 하지만 전문가는 no라고 말할 수 있어야 함.
- 좋은 매니저는 거절할 줄 아는 사람을 필요로 함.

## Adversarial Roles

- 매니저가 로그인 페이지를 내일까지 만들라고 함.
- 매니저는 자신의 일을 하는 것.
- 당신은 그 일이 내일까지 불가하다는 것을 알고 있음.
- 그런데 만약 "네, 한 번 해볼께요"라고 한다면,
- 당신은 당신의 일을 하고 있지 않은 것.
- 당신의 일을 하는 유일한 방법은,
- "아뇨, 그건 불가능해요"라고 말하는 것.
- 이런 대립이 더 나은 결과를 가져올 수 있음.
- 더 나은 결과란 당신과 매니저의 공유된 목표.
- 이를 위해서는 협상이 필요.
- 아래는 비전문가들의 협상.

```
마이크: 로그인 페이지가 내일까지 되었으면 해요.
폴라: 와우, 그렇게 빨리요? 음, 알겠어요, 해보죠.
마이크: 네, 정말 좋네요. 고마워요!
```

- 폴라는 작업이 더 걸림을 알고 있음.
- 그러니까 이건 거짓말.
- 거짓말이라고 생각하지 못 했을 수도.
- 실제로 해보려고 했고,
- 어쩌면 될지도 모른다는 희망을 가졌을 수도 있음.
- 그러나, 이 역시 결국 거짓말.
- 한편 마이크는 대답을 그대로 받아들임.
- 이것 또한 바보 같은 일.
- 폴라가 대립을 피하려 함을 알았어야 함.
- 그리고 물어봤어야 함.
- 아래는 좀 더 나은 대화.

```
마이크: 로그인 페이지가 내일까지 되었으면 해요.
폴라: 죄송하지만 저에게 좀 더 많은 시간이 필요해요.
마이크: 언제쯤으로 예상하세요?
폴라: 지금부터 2주는 어때요?
마이크: (타이머에 뭔가를 적으며) 네 고마워요.
```

- 하지만 이 역시 고장난, 비전문가들의 대화.
- 두 사람 모두 최고의 결과물 찾기에 실패함.
- 2주가 괜찮냐는 질문 대신, 폴라는 좀 더 단정적으로 말했어야.
- "마이크, 그건 저에게 2주 정도 걸릴 거에요."
- 한편 마이크는 어떤 질문도 없이 그 날짜를 받아 들임.
- 마치 목표가 중요하지 않은 것 처럼.
- 상사에게 가서 고객 데모를 2주 미뤄야 한다고 단순하게 말할 수 있을까?
- 이런 식의 소극적-공격 성향 행동은 비난 받아 마땅.
- 전문가들의 대화는 책에 나온 내용 참고.
- 서로의 요구와 배경/근거를 단호하게 말하고,
- 서로의 궁극적인 목적을 찾아가는 대화.

### What about the Why?

- 로그인 페이지 작업이 왜 오래 걸리는지 폴라가 말했어야 한다고 생각할지도.
- 그러나 저자 경험으로는 사실(fact)이 이유(why)보다 중요하다고.
- 로그인 페이지에서 2주는 사실이고 이유는 부가 설명.
- 이유는 마이크의 이해를 도울 뿐, 결국은 사실에 대한 결정.
- 그리고 이해는 하지만 사실에 대해서는 거절할 수도.
- 너무 상세한 설명은 마이크로 매니징으로의 초대.

## High Stakes

- 크고 위험한 일일수록,
- 아니라고 말할 수 있어야 함.
- 사례 이야기는 생략.

## Being a “Team Player”

- 매니저는 6주를 계속 강요했고,
- 개발팀에서 8주를 얘기했으나,
- 경영진에는 6주로 이야기.
- 누가 팀 플레이어인가?
- 분명히 할 수 없는 일의 강요.
- 그리고 경영진엔 거짓말.
- 개발팀도, 경영진도 아님.
- 물론 악마는 아님.
- 아마도 잘 보이고 싶은 맘이었을 것.
- 그리고 어떻게든 6주 안에 끝내게 할 수 있다는 과한 자신감도.

### Trying

- 위 얘기에서 최악은,
- "해볼께요"라고 말하는 것.
- 시도는 긍정적인 거라 생각할 수도.
- 시도에는 여러 정의가 있음.
- 여기서 말하고 싶은 건,
- "추가 노력을 기울이기".
- 추가 노력을 기울인다의 의미는 뭔가?
- 지금 팀이 여력을 두고 일한다는 의미일 수도.
- 혹은 새로운 계획이나 행동을 취한다는 의미일 수도.
- 그런데 그 계획과 행동은 정확히 무엇인가?
- 그런 것이 없다면 이는 그저 거짓말.
- 당장의 대립을 피하기 위한 노력일 수도.

### Passive Aggression

- 폴라는 마이크가 추정치를 전달 안 함을 의심.
- 그래서 나중에 언제든 볼 수 있도록,
- 마이크에게 말한 것을 기록해 둠.
- 이게 passive aggresion.
- 혹은 돈과 직접 얘기할 수도.
- 리스크이긴 하나 팀 플레이어에 더 가까움.
- 충돌할 것 같은 기차의 유일한 목격자라면,
- 그냥 지나치기보다 소리 쳐서 알려주기.

## The Cost of Saying Yes

- 물론, 우리는 되는 방법을 찾기 위해 노력.
- 매니저와 개발자 모두 서로가 동의할 수 있는 결론으로 협상할 수 있음.
- 그러나 가끔은 아니오라고 말하는 것이 유일한 방법.
- 사례 이야기는 생략.

# CH3. Saying Yes

- 특허를 낼 만한 아이디어로 제품을 만들었으나 실패.
- 엔지니어로써 아쉬워서 다시 사업가를 설득했으나 거절 당함.
- 아래의 말을 남기고 돌아왔다고 함.
- 이 말이 왜 한심했는지를 뒤이어 다룰 예정.

> Thanks Russ. I'm committed... I guess.

## A Language of Commitment

- 약속(commitment)은 3가지로 이뤄짐.
- 첫째, 말하기
- 둘째, 결심
- 셋째, 실행
- 하지만 실행을 안 하거나,
- 결심조차 안 하는 경우들이 많음.
- 그리고 이런 약속을 믿는 실수를 할 때도.
- 예컨대, 아래의 것들.

> 나: 소스 코드 체크인 전에 수동 테스트 해주세요.<br/>
> 상대: 물론이죠. 오늘 끝날 때 할께요(원문에서는 hope 단어 사용).

### Recognizing Lack of Commitment

- 아래 단어들을 만나게 된다면,
- 위 조건을 충족하지 못하는 약속일 수 잇음.
- need/should
- hope/wish
- let's
- 보통 바쁜 척을 하며,
- "내가 직접"이란 말이 빠져있거나,
- 책임으로부터 멀어지려 하거나,
- 상황을 통제하는 사람이 아닌,
- 상황의 희생양인 것 처럼 행동.

### What Does Commitment Sound Like?

- 언제나 통제할 수 있는 부분이 있음.
- 즉, 약속할 수 있는 부분이 존재함.
- 진짜 약속은 보통 아래 형식으로 이뤄짐.

> I will ... by  ...

- 하겠다라는 표현과 언제까지란 말이 담김.
- 이제 결과는 2개 중 하나.
- 정말로 끝내거나 그렇지 않거나.
- 이 약속에 실패하면 상대방에겐 문제가.
- 이런 부담이 책임을 지는 것.

#### It wouldn't work because I rely on person X to get this done

- 다른 사람에 의존성이 있는 목표라면,
- 당신은 단지 당신에게 주어진 것에만 약속을 할 수 있음.

#### It wouldn't work because I don't really know if it can be done

- 할 수 있는지를 모른다면,
- 할 수 있는지 알아보는 것이 약속할 수 있는 것.
- 25개의 버그가 있다면,
- 그리고 다 해결할 수 있는지 모르겠다면,
- 이를 다 해결하겠다고 말하는 대신,
- 버그를 담당 QA 분들과 확인하고,
- 이번 주를 버그 해결에 사용하겠다고 약속할 수 있음.

#### It wouldn't work because sometimes I just won't make it

- 예상치 못한 일은 일어남.
- 그래도 기대에 부응하고 싶음.
- 그렇다면 가능한 빨리 위험 신호를 알리기.
- 그리고 고민할 시간을 갖고,
- 요구를 적절히 변경할 수도.

#### Summary

- 약속의 언어를 만드는 것이,
- 다소 무섭게 느껴질 수 있으나,
- 이것이 많은 커뮤니케이션 문제를 해결.

## Learning How to Say “Yes”

- 지금까지 약속(commitment)에 대한 이야기.
- 이제 "네"를 말하는 방법 이야기.

### The Other Side of "Try"

- 피터 대화를 소개.
- 단지 "해볼께요(try)" 대신,
- 불확실성에 대해 솔직히 말하고,
- 상대에게 결정의 근거를 더 제공.

### Committing with Discipline

> 피터, 좀 더 명확한 예 또는 아니오를 원해요. 금요일까지 평가 엔진 만들기와 문서화까지 해 줄 수 있나요?

- 앞선 대화에서 이어지는 마지의 질문.
- 이는 마지 입장에서는 매우 합당한 질문.
- 일정을 관리하고 따라서 금요일에 대한 binary 답변이 필요.
- 피터는 어떻게 반응해야 할까?

> 그런 경우라면 아니오라고 말해야 해요. 화요일까지라면 됩니다.

- 하지만 마지가 금요일까지 필요로 한다면?
- 문서가 있어야 테크 라이터가 매뉴얼을 작성할 수 있고,
- 테크 라이터는 월요일부터 5일간 작업하기로 되어 있다면서 말이다.
- 피터는 이제 결정을 내려야 함.
- 잘하면 금요일까지 작업이 가능.
- 혹시 못 끝내도 토요일 몇 시간을 할애.
- 하지만 이 역시 가능성이 조금 바뀐 것에 한함.
- 월요일에 매뉴얼 작업이 확실히 시작될 수 있는 건 아님.
- 피터는 이제 규율을 깰 유혹이 들기 시작한다.
- 테스트를 작성하지 않으면 좀 더 빨리 할 수 있지 않을까?
- 코드 구조화를 생략한다면?
- 회귀 영향 검증을 하지 않는다면?
- (책 서문에 언급된 사례 떠오름)
- 하지만 여기서 전문가냐 아니냐가 갈림.
- 일단, 피터는 잘못된 가정을 하고 있음.
- 테스트 등의 루틴을 따르지 않는다고 더 빨라지는 것이 아님.
- 그리고, 이런 루틴을 따라야 하는 책임으로부터 회피.

> 아니오 마지, 화요일 전에 확실할 수 있는 어떤 방법도 없어요. 당신의 스케쥴을 꼬이게 해 미안하지만, 이게 우리가 마주해야 하는 진실이에요.

- 이렇게 말해줘야 더 나쁜 상황을 피할 수 있고,
- 지금이라도 일정 등의 조정을 꾀할 수 있음.
- 그래도 마지가 이 일의 중요성을 얘기하며 방법이 없겠냐고 물어온다면,
- 주말 근무를 생각하기 시작.
- 그러나, 주말에 일을 하는 것 그 자체는 쉬울지 몰라도,
- 정말로 그것이 평소와 같은 고품질이기는 어려움.
- 주말에도 고품질일 수 있을지 솔직하고 냉정하게 따져봐야.
- 전문가는 자신의 한계를 안다.
- 얼마나 많은 초과 근무가 효과적으로 가능한지,
- 그 비용은 또한 얼마인지 알고 있음.
