
# How to Measure Anything: Finding the Value of Intangibles in Business, 3rd Edition

# PART I: The Measurement Solution Exists

# CH1. The Challenge of Intangibles

- "Anything can be measured."
- 관찰할 수 있으면, 측정도 할 수 있음.
- 측정이 모호해도, 전보다 더 많이 알 수 있다면, 유효한 측정.
- 그리고 측정 어려워 보이는 대상을 생각보다 쉬운 방법으로 측정할 수 있음.
- 시작은 좋은 질문에서부터.
- 그리고 도구를 잘 사용해야 함.

## The Alleged Intangibles

- 매우 중요한 것들이, 측정 불가하거나, 측정을 위한 데이터가 부족하다고 여겨짐.
- 하지만, 측정 가능하며, 생각보다 단순함.
- 예를 들면, 아래의 것들.
- 새로운 제품 생산의 "유연성".
- 정보의 가치.
- 파산 위험.
- 관리 효율.
- 새로운 제품의 수입 예측.
- 연구 생산성.
- 고객 커뮤니케이션 품질.

## Yes, I Mean Anything

- 책에서 다룬 내용에만 적용되지 않음.
- 모든 측정에 적용할 수 있는 이야기.

## The Proposal: It's about Decision

- 측정의 가장 중요한 목적은 의사 결정 돕기.
- 측정은 결정에 관한 불확실 요소들을 제거.
- 추측 대신 최적의 전략을 계산함.
- 직관은 의사 결정에 있어 중요한 부분이나,
- 때로는 한계가 있으며 측정과 계산이 필요할 수도.
- 의사 결정을 위한 측정 프로세스는 AIE<sup>Applied Information Economics</sup>라고 부르며 이어서 설명.

## A "Power Tools" Approach to Measurement

- 통계나 과학적 방법은 실용적인 의사결정 도구가 될 수 있음.
- 온도나 질량 등 명확하고 직접적인 측정에만 적용할 수 있다는 생각은 오해.
- 그리고 스프레드시트, 테이블, 차트만 있으면 유용한 통계 도구를 활용할 수 있음.
- 이해할 수만 있으면 됨. 일일이 기억할 필요는 없음.

## A Guide to the Rest of the Book

- 책은 크게 4부분이고, 순서대로 읽어야 전체 프로세스 이해하기 좋음.
- Part 1: The Measurement Solution Exists
- Part 2: Before You Measure
- Part 3: Measurement Methods
- Part 4: Beyond the basics

# CH2. An Intuitive Measurement Habit: Eratosthenes, Enrico, and Emily

- 정량적 측정을 직관적으로 찾아내는 3개의 사례 소개.

## How an Ancient Greek Measured the Size of Earth

- 에라토스테네스의 지구 길이 측정 얘기.
- https://www.youtube.com/watch?v=fz60nt-oU0I 영상 참고.
- 키워드만 기록하면, 시에네의 우물, 알렉산드리아의 막대 그림자, 엇각, 태양빛은 평행하다 가정, 7.2도.
- 간단한 관측과 영리한 계산으로 위대한 측정.
- 어려운 방법 대신, 관찰 가능한 몇 가지로, 많은 정보를 도출.

## Estimating: Be Like Fermi

- 다음은 페르미 이야기.
- 실험장에서 원자폭탄이 폭발할 때,
- 폭발 파동 바람이 일어날 때 색종이를 공중에 흩뿌리고 얼마나 멀어지나 관찰.
- 페르미는 이를 통해 임계치가 10킬로 톤 이상임을 알아냄.
- 측정을 생각의 연쇄 단계로 받아들여야 함.
- 추론은 간접적인 관찰을 통해 일어날 수 있음.
- 그 외에도 그의 삶에서 빠른 추정의 가치를 느끼는 일화들 많음.
- 학생들에게 "페르미 질문"을 내기도 함.
- 시카고에 피아노 조율사가 얼마가 되겠냐는 질문.
- 페르미는 추정하기 쉬운 것부터 질문해 나감.
- 예컨대, 시카고의 인구는 얼마냐(당시 300만 명), 가구당 평균 인구수는 얼마냐(2~3명), 정기적으로 피아노를 조율하는 가구 비율(1/10에서 1/30 사이), 조율 빈도(연간 1회), 조율사가 하루에 조율할 수 있는 피아노 수(4~5대), 조율사의 연 내 일하는 일수(250일).
- 이제 아래와 같이 계산할 수 있음.

```
시카고 조율사 = 인구 수 / 가구당 인구 수 x 피아노 조율하는 가구 비율 x 피아노 당 연간 조율 빈도 / (조율사의 하루 조율 수 x 연간 일수)
```

- 보통 30에서 150 사이의 값이 나오며 50을 자주 봄.
- 범위가 넓긴 하지만 꽤나 근접한 수치이며, 막막해 하던 것에 비하면 훨씬 나은 상황.
- 이 접근법을 페르미 분해 또는 페르미 해결책이라고 부름.
- 불확실한 양을 추정할 수 있게 돕고, 불확실성이 어디에서 비롯되는지 드러나게 함.
- 엄밀하게는 페르미 분해가 측정은 아님.
- 새로운 관찰에 기반하지 않기 때문.
- 하지만 측정에서 내가 알고 있는 양은 무엇인지를 보는 게 매우 중요.

### A Fermi Decomposition for a New Business

- 페르미 질문을 이용해 지역의 제품 시장 크기를 측정.
- 맥케이란 사람이 이를 활용해 보험 대리점을 추진하지 않기로 함.

## Experiments: Not Just for Adults

- "therapeutic touch"는 손 대지 않고 사람의 몸에서 나오는 나쁜 에너지를 감지하고 치료한다는 치료법.
- 11살인 에밀리는 이를 검증하는 실험을 만듦.
- 스크린을 둬서 환자와 치료사의 시야를 차단하고,
- 치료사는 스크린 맡으로만 손을 내밀 수 있으며,
- 에밀리는 동전을 던져 랜덤으로 왼손 오른손을 결정하고,
- 결정된 손을 치료사의 손 위에 간격을 두고 올려 둠.
- 치료사는 어느 손인지 맞춰야 함.
- 에밀리의 손을 식별한 비율은 44%.
- 동전을 총 280번 던졌으니, 44~56%가 나올 확률은 95%.
- 즉, 우연으로만 도달하는 결과와 다를 바 없음.
- 에밀리의 사례는 비즈니스에도 교훈 제공.
- 첫째, 중요한 것은 관찰 가능한 결과를 가져와야 함.
- 둘째, 간단하지만 통제된 효율적 실험이 가능함. 블라인드, 통제된 실험, 표본 추출, ...
- 셋째, 유용한 실험을 아이도 이해할 수 있고 작은 예산으로도 가능함을 보여줌.

### Example: Mitre Information Infrastructure

- 기업에서도 무형을 측정한 사례 소개.
- Mitre Information Infrastructure(MII)라는 시스템이 있었음.
- 이는 협동을 고취하기 위한 기업 지식 기반.
- 시스템이 만약 품질을 향상시킨다면, 고객 인식과 수익에 영향 미칠 것.
- 그래서 MII 이전과 이후의 결과물에 대해 무작위 고객에게 품질을 평가해 달라고 요청.
- 에밀리와 마찬가지 방식으로 측정한 것.

# CH3. The Illusion of Intangibles: Why Immeasurables Aren't

- 3가지 오해로 측정을 어렵다고 느낌.
- concept, object, method.
- 한편, 3가지 이유로 측정을 하면 안 된다고 느끼기도.
- 비용이 비쌀 거라는 두려움, 통계의 유용성과 의미에 대한 반대, 윤리적 반대.

## The Concept of Measurement

- 측정은 매우 높은 기준의 확실성을 가지는 대상이라 오해하기 쉬움.
- 측정이 이런 것이라면, 물리학에서도 측정할 수 있는 건 매우 드묾.
- 과학자, 계리사, 통계학자가 측정을 할 때는 다른 정의를 사용.
- 그리고 측정을 이해하려면 측정 너머에 있는 이론적 프레임워크를 함께 알아야 함.

### A Definition of Measurement: An "Information Theory" Version Definition of Measurement

> Measurement: A quantitatively expressed reduction of uncertainty based on one or more observations.

- 불확실성을 정량적으로 줄여주는 관찰을 측정이라고 봐야 함.
- 꼭 제거가 아니더라도 줄여주는 것만으로도 의미가 있음.
- 현실 세계에서의 양에 관한 확신은 불가.
- 에러는 피할 수 없음.
- 더 나은 지식을 가져다주는지가 중요.
- 측정 결과가 공유될 땐 보통 오류 정도가 포함됨.
- 예컨대, 95%의 신뢰율 구간 같은 정보.
- 이런 게 없다면 측정을 의심해 볼 만함.
- 클로드 새넌의 정보 이론 얘기도 나옴.
- 이 역시 "불확실성의 감소"가 중요함을 얘기하는 것.

### A Variety of Measurement Scales

- 또 하나 측정에 중요한 개념이 있음.
- 측정 정의에서 "quantitatively expressed"라고 표현.
- 불확실성은 정량화되어야 하지만, 관찰 자체는 정량적일 필요는 없음.
- 예컨대, 예 아니오 대답을 수집해 이를 정량적으로 표현할 수도.
- “On the Theory of Scales and Measurement”라는 글이 있음.
- 여기선 "nominal", "ordinal", "interval", "ratio" 측정을 설명.
- "nominal"은 몇 개의 정해진 집합 중 하나를 고르는 것. 여기엔 순서나 상대적 크기가 없음. 예/아니오나 남자/여자 등이 예시.
- "ordinal"은 다른 값보다 "더 크다"라고 말할 수 있는 선택지. 다만 얼마나 더 큰지는 없음. 영화 별점 평가 등이 예시.
- "ratio"는 ordinal에서 얼마나 더 큰지에 대한 정보도 담김. 달러, 킬로미너, 리터 등은 상대적으로 얼마나 큰 지도 포함.
- "interval"은 ratio와 비슷. 하지만 여기서 "0"은 임의 지점. 온도에서 0도가 아무 온도가 없다는 게 아닌 것처럼.
- nominal과 ordinal 척도가 우리의 측정 직관에는 위배될 수 있으나 이들은 매우 유용.
- 측정의 정의와 4가지 척도 모두 중요.

### Bayesian Measurement: A Pragmatic Concept for Decisions

베이지안(Bayesian)

- 불확실성은 관찰자와 관찰 결과에 따라 달라짐.
- 관찰 대상이 불확실성을 가진 게 아님.
- 바다에 있는 연어들의 무게를 추정할 때,
- 샘플링에 따라 불확실성이 달라지지만,
- (아웃라이어에 의해 무게를 높게 추정해 버린다고 해도)
- 그렇다고 바다에 있는 연어들의 무게가 달라지는 건 아님.
- 그리고 관찰에 의한 불확실성 변화를 확률을 이용해 정량화할 수 있음.
- 예를 들어, 불확실할 땐 50%, 확신이 높을 땐 90%의 확률이라고 표현.
- 혹은, 시카고의 평균 통근 시간이 90%의 확률로 10~90분 이내라고 하다가, 정보가 쌓이면 더 좁은 범위에 대해 90%라고 이야기.
- 확률에 대한 이러한 관점을 "베이지안" 해석이라고 함.

빈도주의(frequentist)

- 한편, 확률은 관찰자의 상태가 아니라, 시스템 일부의 객관적 특징이라는, "빈도주의적" 해석도 있음.
- 이 대조는 흥미롭기도 하고 뒤에서 다루기도 하지만, 우리의 실제 요구와는 직접적 관계가 없음.
- 우리 관심사에 있어 동일한 답을 가리키는 것들도 많음.
- 베이지안 해석을 사용한다고 하지 않는 과학자들도 측정을 통해 계속 배운다고 믿음.
- 이전의 불확실성 상태와 계속 달라진다는 점에서는 같은 관점.
- 차이점은 베이지안 주의자들은 초기의 불확실성 상태도 명시적으로 정량화.
- 최종 상태에 대한 불확실성 정량화는 둘 모두에서 일어남.

베이지안 옹호

- 베이지안을 빈도주의에 대해 상대적으로 주관적이라는 표현을 함.
- 베이지안이 주관적이긴 하나, 수학적으로 일관되며, 반복적이고 이어지는 관찰들과도 일관성을 가짐.
- 그리고 물론 시스템에 대한 충분한 정보가 있다면, "객관적 빈도" 확률 해석은 잘 들어 맞음.
- 예컨대, 주사위를 던졌을 때 2가 나올 확률.
- 하지만, 현실에서 이렇게 간단하고 잘 정의된 시스템은 보기 어려움.
- 마지막으로, 불확실성의 완전한 제거가 꼭 필요한 건 아님.
- 불확실성의 감소가 중요.

## The Object of Measurement

> A problem well stated is a problem half solved.

> There is no greater impediment to the advancement of knowledge than the ambiguity of words.

- 측정이 어렵다고 느끼는 이유 중 하나가 측정 대상의 정의가 모호하기 때문.
- "전략적 정렬", "유연성", "고객 만족"을 어떻게 측정하냐는 질문을 받을 때가 있음.
- 저자는 역으로 "그게 정확히 무슨 뜻이냐"고 묻는다고 함.
- 이 질문에 답하다 보면 측정을 어떻게 할지가 나오기도.
- IT 보안에 대한 성과 지표 정의를 도운 적 있음.
- IT 보안이 뭔지를 몇 번의 워크샵을 통해 구체적으로 정의함.
- 무단 침입과 바이러스 공격의 감소였음.
- 이것이 사기 손실, 생산성 손실, 법적 책임 문제 등으로 조직에 영향을 주는 것.
- 관찰 가능한 수준으로 분해되기 전까지 IT 보안은 모호한 개념이었음.
- 이러한 사고 과정을 저자는 "clarification chain"라 부름.
- 대상을 무형으로 생각하다 유형으로 여기게 되는 과정.

### Clarification Chain

clarification chain 순서.

1. 만약 중요하다면, 탐지<sup>detectable</sup>/관측<sup>observable</sup> 가능해야 함.
2. 탐지 가능하다면, 양으로 탐지할 수 있어야 함.
3. 양으로 탐지할 수 있다면, 측정할 수 있음.

그리고 다시 이어지는 측정 대상 이야기들.

- 한 조직을 그대로 복제해 실험군과 대조군으로 나눈다고 해보자.
- 만약 실험 그룹에 '직원 권한 부여'를 좀 더 제공한다면?
- 변화가 생긴다면 그건 무엇이겠는가?
- 직원들의 자체적인(책에서는 lower level이라 표현) 의사결정이 더 발생하나?
- 이는 더 나은 결정과 더 빠른 결정을 의미하나?
- 감독이 덜 필요해지고, 관리 오버헤드가 적은 평평한 조직으로 이어지나?
- 생태계의 지속 가능성에 대해서도 비슷한 사고 과정을 예시로 보여주고 있음.
- 한편, 무언가를 왜 측정해야 하는지 따지다 보면, 진짜 측정 대상을 파악하는 데 도움이 됨.
- 측정의 목적은 종종 측정 대상을 정의하는 열쇠.
- 그리고 부가적으로 측정해야 하는 항목들 찾는데도 도움 됨.

## The Methods of Measurement

- 측정 방법을 생각할 때 보통 직접적인 것들을 생각.
- 예컨대, 거실에 맞는 책상을 찾고자 길이를 잼.
- 또는, 콜 센터에서 특정 고객의 문제 해결에 걸린 시간을 측정.
- 하지만 어려운 측정들은 대부분 간접적 추론이 필요.
- 보이는 무언가로부터 보이지 않는 무언가를 추론해 내야 함.
- 앞서 소개한 에라토스테네스도 지구의 곡률을 직접 계산하지 않음.
- 대신, 지구는 대략 둥글다는 지식과 그림자로부터 추론함.
- 에밀리 로사도 에너지양을 직접 측정하는 대신 실험을 수행함.
- 너무 크거나 잘 바뀌어서 한눈에 보기 힘든 모집단을 조사하는 건 바로 통계.
- 통계도 처음엔 전수조사였음.
- 그러다가 몇 개의 샘플과 간접적 관찰을 통해 전체 모집단을 추론해 내는 방향으로 진화.
- 어느 누구도 전체 모집단의 상태를 한 번에 볼 수 없음.
- 대신 경제적으로 샘플링할 뿐.
- 몇 가지 사례와 이들을 정리하는 내용이 짤막하게 있음.
- 뒤에서 나올 내용으로 보여 기록 생략.
- 이들은 대부분 기본 방법들의 변형.
- 예컨대, 다양한 유형의 샘플링, 실험 대조군, 그리고 간접적 지표에 대한 질문 선택하기 등.

### The Power of Small Samples: The Rule of Five

- 대규모 모집단을 빠르게 측정하는 매우 간단한 예시 소개.
- 이 측정이 통계적으로 얼마나 불확실한지도 쉽게 계산 가능.
- 회사 직원들의 원격 근무를 고려하고 있다고 가정.
- 이 때 직원들의 하루 통근 시간을 측정해 볼 수 있음.
- 만약 직원 수가 엄청 많다면 일일이 조사하기는 어려움.
- 대신, 다섯 명의 직원을 임의로 선정.
- (나중에 이 임의를 구성하는 문제에 대해서도 다룰 예정)
- 각각에게 연락해서 얼마나 걸리는지 조사.
- 값은 30, 60, 45, 80, 60분이었음.
- 이 5개의 값만을 이용해 중위값을 구할 수 있을까?
- 결론: 여기서 얻은 최소 최대 값은 30과 80분이고, 이 사이에 중위값이 존재할 가능성은 93.75%.
- 저자는 이를 "Rule of Five"라고 부른다고 함.

### Rule of Five

- 중위값은 말 그대로 중간값.
- 중위값 보다 큰 값을 고를 확률은 50%.
- 이는 동전을 던져 앞면이 나올 확률과 동일.
- 5번을 뽑았을 때 중위값 보다 계속 값이 클 확률은 (1/2)^5 = 1/32 = 3.125%.
- 한편, 중위값 보다 계속 낮은 값만 뽑을 확률도 역시 3.125%.
- 따라서 5개의 값 범위 사이에 중위값이 있을 확률은 (100 - 3.125 * 2) = 93.75%.
- 이 방식에 단점이 없는 건 아니지만 직관적이고 빠르게 측정하는 데에는 도움이 됨.

### Even Smaller Samples: The Urn of Mystery

- 5개 샘플이 많은 것 같지 않지만, 큰 불확실성에서 시작한다면 더 작은 데이터라도 유용함.
- "모집단 비율<sup>population proportion</sup>" 문제라 부르는 게 있음.
- 어떤 특징을 갖는 대상이 집단에서 얼마나 되는지 구하는 것.
- 예컨대, 얼마나 많은 직원이 대중 교통을 이용할지 알아내기.
- 이를 전수 조사가 아니라 작은 샘플만으로 추론하려면 어떻게 해야 할까?
- 저자는 자신의 "항아리 미스테리" 문제를 이야기.
- 항아리로 가득찬 창고가 있음.
- 각 항아리에는 구슬이 들어 있고 각 구슬은 녹색 또는 빨간색.
- 각 색상의 구슬 비율은 무작위이며 모두 다 같은 색일 수도.
- 각 항아리에 어떤 구슬의 비율이 더 많을지 고르는 문제.
- 구슬 비율이 무작위이므로 내가 정답을 맞출 확률은 50%.
- 그런데 만약, 항아리에서 여기서 구슬을 1개 뽑아 본 뒤 선택할 수 있다면?
- 그러면 맞출 확률은 75%가 됨.

### The Single Sample Majority Rule (i.e., The Urn of Mystery Rule)

- 불확실성이 최대인 모집단 비율에서는,
- 그러니까 어느 값이든 나올 확률이 동등한 환경에서는,
- 임의로 고른 1개의 샘플이 그 집단에서 50% 이상을 차지할 가능성이 75%.
- 자세한 수학은 10장에서 다룬다고 함.
- 여기서는 좀 더 직관적으로 이해할 수 있도록 www.howtomeasureanything.com 웹 사이트 소개.
- 여기서 시뮬레이션을 직접 해 볼 수 있다고 함.

### Our Small-Sample Intuition versus Math

- 1개, 5개 샘플 이야기는 대부분 사람에게 반직관적.
- 대규모 모집단에 비해 샘플은 너무 작아 보이기 때문.
- 하지만, 모집단이 무한하더라도 샘플이 얼마나 의미 있는지 이미 앞에서 수학적으로 증명함.
- 이후에도 반직관에 대한 이야기들 좀 더 진행함.

## Economic Objections to Measurement

- 측정이 불가능해 보이지만 concept, object, method에 대한 잘못된 인식 때문.
- 하지만, 측정하면 안 되는 경우가 있긴 함.
- 바로, 비용이 이득을 뛰어 넘을 때.
- 저자는 매번 이런 측정을 해 옴.
- 그리고 경험상 대부분의 변수는 측정 가치가 0.
- 1~4개 변수만이 충분히 불확실하고 노력을 기울일 가치가 있었음.

### Usually, Only a Few Things Matter - But They Usually Matter a Lot

- 그 외에 잘못된 경제적 이유로 측정을 반대하는 경우들 소개.
- 먼저, 측정이 높은 기준을 달성해야 한다는 오해로 측정을 거부하는 경우.
- 하지만, 측정이 기준치를 충족시켰냐는 우리 의사결정 목적에 관계 없음.
- 불확실성이 크고 잘못된 결론의 비용이 클 때, 측정으로 이를 줄이는 게 중요.
- 항아리 사례에서, 만약 이기면 $10를 벌고, 진다면 $10를 번다고 했을 때, 샘플 없이 한다면, 기대값은 $0가 됨.
- 그런데 만약 샘플을 뽑을 수 있고 이 때 $2를 지불해야 한다면 어떨까?
- 수익 기대값은 `75% x $10 + 25% x (-$10) = $5`이고 비용은 $2이니 결국 3$가 됨.
- 즉, 측정할 가치가 있음.
- 또 다른 측정의 반발 이유로, 측정 결과가 관리 결정이 아니라 행동하는 사람들에게 끼치는 영향이 있음.
- 예컨대, 콜센터의 성능 메트릭이 주어진 시간에 얼마나 전화를 받았냐가 된다면 고객의 문제는 해결되지 않은채 전화를 마칠 수도.
- 하지만 이는 중요한 것 대신 측정하기 쉬운 것을 측정하기에 생기는 문제.
- 정말로 원하는 결과를 정의하고 이를 측정하는 방법을 설계해야 함.
- 세 번째 반대는, 정량적 모델이 추정과 결정을 개선해주지 않는다는 것.
- 이 대신 편향되지 않은 전문가의 판단에 의존해야 한다는 것.
- 그리고 이에 대한 반박 실험들 열거.
- 하지만 자세한 내용이 나오지 않아서 판단 근거로 사용하기는 애매.

## The Broader Objection to the Usefulness of "Statistics"

- 측정 자체는 찬성이지만, 도구로 사용하는 확률과 통계가 의미가 없다는 주장이 있음.
- 하지만 오해에 비롯된 것들이라며, 저자가 직접 들은 내용들을 반박하고 있음.
- 마지막엔 오히려 통계가 주는 재미와 경외감 강조.

## Ethical Objections to Measurement

- 이건 넘어가도 될 듯.

## Reversing Old Assumptions

- 많은 의사결정자가 측정의 여러 장애물을 떠올리며 관측을 피함.
- 사람들이 특정 활동에 얼마나 시간을 쓰는지 설문하려 할 때, "사람들은 자신이 시간을 얼마나 썼는지 기억하지 못해"라고 함.
- 고객 선호도를 설문하려면, "고객 간 편차가 너무 커서 대규모 샘플이 필요할 텐데"라고 함.
- 새로운 계획이 매출을 증가시키는지 보고자 할 때, "너무 많은 요소들이 매출에 영향 주니 계획이 얼마나 영향 주는지 모를 것"이라 함.
- 하지만 이런 반박은 계산에 근거하지 않고, 측정을 무효하게 만드는 문제인지 아닌지 잘 모르는 단순한 추측.
- 측정의 어려움에 관한 막연한 편견임.
- 이 대신 몇 개의 신중하고 생산적 가정을 뒤에서 제시.
- 이들은 모든 경우에 들어맞진 않지만 실용적이며 매우 효과적.

### Four Useful Measurement Assumptions

1. 이전에 측정된 적 있다.
2. 생각보다 많은 데이터를 갖고 있다.
3. 생각보다 적은 데이터가 필요하다.
4. 유용하고 새로운 관측은 생각보다 접근하기 쉽다.

### It's Been Measured Before

- 문제가 아무리 고유해 보이거나 어려워 보여도,
- 다른 사람이나 분야에서 이미 측정되었다고 가정하기.
- 여러 분야를 경험한 저자는, 사람들이 자신의 문제가 고유하다고 착각하는 경우를 많이 봄.
- 하지만 대부분 표준적 측정 문제로 판명남.
- 학계에서는 이전 연구들을 살피는 게 흔함.
- 하지만 비즈니스 관리자에겐 그렇지 않음.
- 다행히 고치기 쉬운 문제.

### You Have Far More Data than You Think

- 조금만 시간을 쏟으면 필요한 데이터를 얻을 수 있음.
- 데이터가 별로 없다 느끼는 이유 중 하나는 질문에 직접적 대답반 유용하다는 가정.
- 앞서 나온 에라토네스는 지구 곡률을 그림자로부터 구함.
- 엔리코 페르미가 시카고에 있는 피아노 조율사 수를 구할 때도 마찬가지.
- 주어진 상황이 고유하다고 생각하며 관련 정보가 없다고 생각하기도.
- 하지만 이는 오류.
- 보험사도 각 사람이 언제 죽는지 모름.
- 지금 살아 있는지만 알 뿐임.
- 하지만 보험료를 계산해 내고 돈을 범.
- 시스템 개발도 매번 다른 제품을 만들어내지만, 새로운 시스템 구축에 대한 오랜 경험을 활용함.
- 그리고 요즘 세상은 정보도 빠르게 만들어지고 이를 잘 활용할 수 있는 도구들도 많음.

### You Need Far Less Data than You Think

- 수학적으로 말하면, 아는 게 거의 없다면, 거의 모든 게 정보가 됨.
- 항아리나 5개 규칙과 같이 몇 개의 샘플이 도움이 됨.
- 샘플 오류에 대한 과대평가도 문제.
- 물론 가설 검정 문제 같은 특수한 경우엔 샘플 문제 있음.
- 정보가 매우 부족한 상황에서는, 작은 샘플이 더더욱 도움.

### Having More and Needing Less than You Think: An Example from Measuring Teaching Effectiveness

- 생각보다 이미 데이터가 많고, 많지 않은 데이터가 필요한 사례 이야기.
- 저자에게 어느 날 학교와 선생님의 역량을 평가하는 측정 방법과 매트릭을 정의해 달라고 요청 옴.
- 항상 그렇듯 "성능"이 뭔지 정의부터 시작.
- 그리고 이게 실제 의사결정에 어떻게 영향을 미치리라 예상하는지 정의.
- 교육이 모두 화상 도구를 이용해 원격으로 이뤄지므로, 선생님과 학생들의 상호작용들이 기록됨.
- 문제는 데이터 부족이 아니라 너무 많은 데이터가 있고 구조화와 분석이 어렵다는 것.
- 그렇다고 모든 영상을 다 볼 수도 없는 일.
- 그래서 전체 녹화 중 일부만 임의로 샘플링.
- 종종 다 확인하지 않으면 의미 없다고 생각하지만,
- 초기의 몇 번의 관찰이 노력 대비 가장 높은 이득을 가져다주며,
- 아는 게 거의 없을 땐 데이터가 많이 필요하지 않음.

### Useful, New Observations Are More Accessible than You Think

- 과학적 방법은 단지 데이터를 가지고 있는 게 아니고 얻는 것이기도.
- 새로운 데이터를 얻는 방법 고민할 때, 첫 번째 접근법이 측정하기 어려운 것이라 가정하라.
- 더 고민하면 좀 더 쉬운 방법을 찾을 수 있을 거라고.
- 예를 들어 오케스트라의 성능 개선을 측정한다고 해보자.
- 처음 떠오르는 방법으로 설문 조사가 있음.
- "나쁨"부터 "탁월"까지 고르는 설문이나, 매개변수에 대한 성과 평과들 결합해 "만족도 지수"로 만들거나.
- 하지만 기립 박수로 측정할 수도.
- 약간의 차이는 무시하고, 확연한 차이가 있을 때만 활용.
- 더 적은 노력으로 좀 더 의미 있는 평가.
- 불확실성 줄이기 위해 비실용적이고 섬세한 방법을 택해야 한다 생각지 말자.
- 이미 정교한 결과를 알고 있는 게 아니라면 이런 저런 시도를 하자.
- 측정을 시작하고, 반복적으로 개선하고, 초기 발견을 기반으로 계속 조정해 가기.

# PART II: Before You Measure

# CH4. Clarifying the Measurement Problem

- 어려운 측정을 해야할 때 맥락을 이해하면 도움이 됨.
- 아래 질문들에 대답해 보기.
  - 이 측정이 뒷받침하는 결정은 무엇인가?
  - 관찰 결과 측면에서 측정 대상은 어떻게 정의해야 하는가?
  - 측정 대상이 결정에 어떻게 영향을 미치는가?
  - 지금 얼마나 알고 있는가(불확실성의 정도는 얼마인가)?
  - 이 변수에 대한 불확실성이 결정에 어떻게 위험이 되는가?
  - 추가 정보에 대한 가치는 무엇인가?
- 이 챕터에서는 처음 2개의 질문에 집중.
- 나머지는 뒷 3개의 챕터에서 다룸.
- 첫 2개의 질문은 의사 결정 틀에서 측정이 무엇인지를 정의함.
- 측정이 의사 결정에 어떻게 영향을 주는지 파악할 수 없다면 측정은 의미 없음.
- 의사 결정과 행동에 영향을 주는 측정이 가치가 있음.
- 예를 들어, "제품 품질"을 측정하고 싶다고 해보자.
- 이는 측정과 결과에 관한 아래 질문들로 이어짐.
  - 현재 제품 공정 절차를 바꿀지 말지를 결정하는 데 정보를 사용하나?
  - 그렇다면, 얼마나 그 측정이 안 좋아야 프로세스를 바꾸는가?
  - 품질 프로그램의 관리 보너스를 계산하기 위해 제품 품질을 측정하고 있는가?
  - 그 공식은 무엇인가?
  - 위 질문들에 앞서, "품질"은 무엇인가?
- 용어를 정의했고, 어떻게 결정에 영향을 미치는지 안다면, 다음 2가지 질문이 이어짐.
- 우리가 지금 얼마나 알고 있는가?
- 측정하는 것이 얼마나 가치 있는가?
- 편익을 따지려면 우리가 얼마나 알고 있는지가 중요.

## Toward a Universal Approach to Measurement

모든 측정 문제에 적용 가능한 5가지 단계 상세 소개.

1. 문제는 무엇인지, 불확실성은 무엇인지 정의(이번 장에서 다룸)
2. 지금 아는 것을 정의(5, 6장)
3. 정보의 가치를 계산(7장)
4. 측정 방법들 적용(9~13장)
5. 결정하고 행동(11, 12, 14장)

## The Unexpected Challenge of Defining a Decision

- 결정을 정의하는 것부터 시작.
- 그러나 많은 사람들이 어려워 함.
- 아래는 몇 가지 사례들.
- 프로젝트 진행 상황 추적을 위해 생산성 측정해야 한다고 함. 하지만, 필요한 건 더 많이 알게 됐을 때 무엇을 바꿀 수 있는지임. 취소를 할 건가, 구현을 가속화 할 건가, 자금을 재할당 할 건가?
- 기업의 이미지와 탄소 배출량을 측정해야 한다고 함. 물론 중요함. 하지만 지식이 쌓였을 때 어떤 행위가 달리질지를 고민해야 함.
- 나머지 얘기들도 비슷.

### Dashboards and Decisions: Do They Go Together?

- 데이터를 한 눈에 보는 대시보드는 강력한 도구가 될 수 있음.
- 하지만, 보통은 낭비 자원.
- 어떤 결정과 행동이 필요한지 고려하지 않고 만들어지기 때문.
- 특정 조건이 되면, 조치의 필요성을 인식하고, 지체 없이 대응해야 함.
- 그래서 제목이 대시보드와 의사결정이 함께 이뤄지느냐는 것.

### Decision-Oriented Measurements: For Scientists, Too

- 결정-지향 측정에 관한 사례 소개.
- 어떤 결정들이 필요한지 식별하고,
- 이 결정을 위한 모델을 만듦.
- 농업과 환경 지원을 위한 모델들.
- 물 관리를 위한 재정적 인센티브 제공이나,
- 작은 댐을 만들지 큰 댐을 만들지,
- 관개 프로그램 자원 지금 등의 결정 등이 그 예.
- 메트릭과 의사 결정의 관계는 엑셀로 표현.

### How to Get to a Real Decision

- 결정을 식별에는 많은 시간과 노력 필요.
- 진짜 결정들에는 이어서 설명할 속성들을 가져야 함.

#### Requirements for a Decision

- 결정은 2개 이상의 현실적 대안을 가져야 함.
- 불확실성을 가져야 함. 불확실성이 없다면, 딜레마가 없는 것이고, 이는 대안이 하나라는 것과 비슷. 여러 선택지가 있고 어느 것이 최선인지 확실치 않아야 함.
- 결정이 잘못된 결과를 가져올 수도 있어야 함. 이 역시 불확실성의 일환.
- 결정자가 있어야 함. 누가 결정해야 하는지 알기 어려워, 결정을 정의하는 게 어렵기도 함.

#### Potential Forms of a Decision

- 결정은 큰 1가지거나 작은 여러가지일 수 있음. 한 번에 끝나는 게 아니라 여러 번 반복된 선택일 수도 있음.
- 결정은 불연속(discrete)이거나 연속된(continuous) 선택. 양자 택일이어야 하는 건 아님.
- 결정은 1명 이상의 이해관계자를 가짐. 경쟁자와 협력자 모두를 포함.

## If You Understand It, You Can Model It

- 결정을 잘 정의하면 정량적 모델링이 가능.
- 여기서 가장 많은 모호성이 드러남.
- 정량적 결정 모델을 페르미의 분해로 생각하기.
- 다양한 비용과 이득을 식별하고 차이를 계산.
- 이런 과정에서 어떤 결정을 다룰지 명확해지기도.
- 추정과 계산은 의사 결정 모델을 구축하고,
- 모델의 결과는 어떤 행동을 취해야 할지를 가리킴.

### A Ridiculously Simple (But Completely Legitimate) Decision Model

```
- Estimated Costs of Action X.
- Estimated Benefits of Action X.
- If Benefits of Action X exceed Costs of Action X, execute Action X.

이제 비용과 이득을 필요한 만큼 세부적으로 분해.
```

- 비용과 이득을 잘 분해해서, 현금 흐름이나 효율성 개선을 계산하는 사례를 간단히 소개함.
- 그리고 분해가 측정에 얼마나 중요한지 연구 얘기도 함.
- 오차가 작은 곳엔 분해가 별로 의미가 없었고, 오차가 큰 곳엔 분해가 의미 있다는 연구.
- 그리고 직관 역시 일종의 결정 모델이라고 함.
- 비일관적이고, 논리적 추론 오류를 가지며, 다른 이들은 알 수 없는 가정들이 숨어 있긴 하지만 말이다.
- 물론 명시적이고 정량적 모델 역시 완벽하지 않음.
- 다만 직관의 오류를 어느 정도 피할 수 있음.
- 위대한 통계학자라는 조지 박스란 사람의 말도 인용 "본질적으로 모든 모델은 틀렸지만, 일부는 유용하다".
- 따라서 결정을 모델링할 수 있는지, 정량적으로 모델링할 수 있는지는 중요치 않음.
- 얼마나 문제를 명확히 이해하고 있느냐가 중요.

## Getting the Language Right: What "Uncertainty" and "Risk" Really Mean

- "리스크"와 "불확실성"이 측정 불가능한 대상으로 치부되곤 하지만,
- 생활과 비즈니스에서 일어나는 큰 결정에 빠질 수 없는 요소.
- 번성하는 산업에서는 이 둘을 그래도 일상적으로 측정하곤 함.
- 보험 회사가 그 한 예.
- 정량적 명확함은 발전을 위한 큰 기반이 됨.
- 뉴튼이 "힘"을 수학적으로 정의했고, 항공 산업 등 여러 분야에서 기반이 됨.
- 비즈니스에 있어서도 불확실성과 리스크를 정의하는 것이 중요.
- 사전을 찾아보면 여러 정의가 있지만,
- 결정을 위한 실용적 목적에 맞게 정의하면 됨.

### Definitions for Uncertainty, Risk, and Their Measurements

- 불확실성: 완전한 확신의 결여. 즉, 하나 이상의 가능성 존재. "진짜" 결과/상태/결과/값은 모름.
- 불확실성 측정: 가능성 집합에 대한 확률. 예를 들어, "이 시장이 5년 안에 2배가 될 가능성은 60%이고, 30% 확률로 이보다 느린 속도로 성장할 것이며, 시장이 축소될 확률은 10%이다".
- 리스크: 불확실한 상태이며, 일부 가능성엔 손실이나 재앙 또는 원하지 않는 결과가 있음.
- 리스크 측정: 가능성 집합이고, 각각엔 가능성과 손실이 정량화. 예컨대, "유정이 마를 확률은 40%이고, 탐사 시추 비용에 있어 12만 달러의 손실이 예상".
- 이런 식으로 불확실성과 리스크의 측정엔 확률이 부여됨.
- 방법에 대해서는 뒤에서 다루겠지만, 지금은 정의를 내렸고 측정에 앞서 알아야 할 것.

## An Example of a Clarified Decision

- 미국 정보의 IT 보안 측정 프로젝트 이야기.
- 과거 측정은 결과를 고려한다기 보다 측정이 쉽느냐에 초점.
- 예컨대, 몇 명이 특정 보안 교육 과정을 수료했느냐, 보안 시스템이 얼마나 많은 데스크톱에 설치됐느냐 등.
- 저자는 일반적 측정 문제에 접근하듯 아래 질문으로 시작.
- 측정이 어떤 결정을 지원하기 위한 것인지 파악
  - "보안성을 측정하려는 건 어떤 결정을 위한 거냐?"
- 역시나 첫 질문부터 어려웠음.
- IT 보안의 필요성은 알았지만 이유는 몰랐음.
- 좀 더 확인해보니, 5년간 여러 IT 보안 개선 프로젝트가 착수 예정이었고, 이들의 비용이 합리적인지 판단을 위해 측정을 하려 했던 것. 추가 투자를 할지, 다른 시스템에도 이를 도입할지 등도 함께 판단.
- 다음으로, 보안이라는 모호한 용어를 명확화.
  - "'IT 보안'이 무슨 의미냐?"
  - "개선된 모습은 무엇이냐?"
  - "좋아지거나 나빠지면 우리는 무엇을 감지할 수 있나?"
  - "보안의 가치라 함은 무슨 의미인가?"
- 모호했던 보안의 개선은, 결국엔 보안 위협 빈도와 그 심각성의 감소라고 정의.
- 여기서의 보안 위협에는 바이러스 공격이나 인가되지 않은 접근 등을 포함.
- 그리고 나서 페르미 분해처럼 측정을 세부적인 것으로 설정함.
- 예를 들어, 바이러스 공격에 의한 연간 평균 비용은 아래와 같이 공식화.

```
바이러스 공격의 연간 평균 비용 =
    바이러스 공격 수
    x 영향 받는 평균 사람 수
    x 생산성 평균 손실
    x 평균 다운타임
    x 연간 인건비
```

- 생산성 고려에는 숙련가 등의 다른 고려가 없음.
- 하지만 보수적 손실 하한을 제공.
- 이제 여기서 베테랑을 고려한 범위로 값을 정리.
- 하한과 상한을 나타낸 표 기록은 생략.
- 그리고 일련의 테스트를 통해 정한 범위 유효성 90%를 함께 제공.

# CH5. Calibrated Estimates: How Much Do you Know Now?

- 현재의 불확실성을 표현하는 방법 이야기.
- 한 가지 방법은 가능한 값의 범위로 나타내기.
- 통계에서는 이를 신뢰구간(CI<sup>confidence interval</sup>)이라 부름.
- 90%의 신뢰 구간은 정답이 포함될 확률이 90%라는 것.
- 이 계산은 모든 종류의 정교한 통계 추론법에 의한 것일 수도 있지만,
- 단지 경험에 기반해서 고를 수도 있음.
- 어느 방식이든 양에 관한 불확실성을 반영한 값.
- 우리의 경험과 실제 결과를 비교하는 방식도 소개.
- 예를 들어, "다음 달에 고객이 계약할 확률이 얼마나 되느냐?" 같은 질문이 있음.
- 만약 어떤 사람이 70% 확률로 성사될 거라고 말했고, 그 사람이 그렇게 말한 계약 중 70%가 정말 그랬는지 살피면 됨.
- 이것이 주관적 확률 평가에 얼마나 능숙한지 아는 방법.
- 하지만 안타깝게도 이런 역량을 타고난 사람은 드물다 함.
- 의사결정 심리학에서는 대부분의 사람들이 추정치에 대해 과신 또는 과소평가 경향을 보이며 주로 과신한다고 함.
- 사건이나 범위에 대한 불확실성 정도를 평가하는 것은 경험과 직관에서 자동적으로 생기는 기술이 아님.
- 다행히 개인적 편향을 제거하는 훈련을 통해 추정을 더 잘할 수 있음.

## Calibration Exercise

- 스스로 얼마나 모르는지를, 잘 정량화하지 못한다는 이야기.
- 그리고 보통 과신의 형태로 이 문제가 드러남.
- 이를 설명하고자 독자에게 2종류의 문제를 각각 10개씩 줌.
- 첫 번째 종류는 90% 신뢰 구간 문제.
- 문제의 답을 최소 값과 최대 값으로 해야하고,
- 정답이 이 안에 있을 확률이 90%라고 생각한 값이어야 함.
- 예를 들어, "찰리 채플린이 몇 살에 죽었을까?" 같은 질문.
- 두 번째 종류는 양자 택일 질문.
- "보스턴 레드 삭스는 첫 번째 월드 시리즈를 우승했나?"같은 식.
- 예/아니오로 대답하고, 확신의 정도를 50%, 60%, 70%, 80%, 90%, 100% 중에 고르기.
- 답변자들이 모두 완전히 calibrated 사람이라면, 몇 문제나 맞춰야 할까?
- 문제가 많으면 90%를 맞춰야 하나, 문제가 10개밖에 안 되니 다른 가능성을 많이 가짐.
- 하지만 그럼에도 불구하고 10개 중 6개 이하를 맞출 확률은 1.3% 정도에 그쳐야 함.
- 저쟈는 1996년부터 927명을 대상으로 조사를 했음.
- 완전한 calibrated인 경우와 실제는 얼마나 차이가 있었을까?

![](./10개의%2090%25%20CI%20문제에%20대한%20이상적%20점수와%20실제%20차이.png)

- 많은 사람들이 과신을 하는 형태로 차이가 발생.
- 2번째 종류의 문제에 대해서도 계산은 다르지만 마찬가지 양상.
- 여기서 잠시 2가지 질문을 혼동하면 안 된다고 함.

```
1. 주어진 관찰을 기반으로, 가설이 참일 확률은 얼마나 되나?
2. 이상적인 무작위 상황을 가정할 때, 이 관찰이 일어날 확률은?
```

- 지금까지 우리가 한 계산은 2번째 질문에 대한 것.
- "참여자들이 모두 완전히 calibrated라고 할 때 주어진 결과는 얼마나 참이겠느냐?"
- 다르게 말하면, 90% 신뢰구간 문제를 정말 90% 확률로 맞춘다면, 우리가 보는 결과는 실제 일어날 확률이 얼마인지.
- 이 답이 정말 작은 확률이라면, 참여자가 calibrated임을 의심할 근거가 됨.
- 앞서 언급했던 "빈도주의자"의 접근 방식을 방금 취한 것.
- 이상적으로 무작위인 상황에서 주어진 결과의 가능성을 계산하는 건 상대적으로 간단하고 유용함.
- 하지만 사람이 calibrated인지에 대한 확률을 계산하는 건 그렇지 않음.
- 이는 10장에서 다룬다고 함.

## Calibration Trick: Bet Money (or Even Just Pretend To)

- 또 다른 90% CI 문제를 생각해보자.
- 아프리카 수컷 어른 코끼리의 평균 몸무게는 몇 톤일까?
- 이전과 마찬가지로 90%의 확률로 값이 포함되리라 생각하는 하한선과 상한선을 제시하기.
- 그리고 다음 2개 게임 중 무엇을 더 선호하는지 따져보기.
- 게임 A: 정답이 범위 안에 있으면 1천 달러를 얻고 그렇지 않으면 아무 것도 얻지 못함.
- 게임 B: 90%와 10% 조각으로 나뉜 룰렛을 돌려 90% 부분이 나오면 1천 달러를 얻는 게임.
- 만약, B를 고른다면 본능적으로 자신이 과신했다고 느끼는 것.
- 반대의 경우는 자신의 추정을 과소평가했다고 느끼는 것.
- 이 2가지 중 하나에 돈을 거는 척 하는 것만으로도 측정 역량이 올라간다고 함.
- 참고로, 실제로 돈을 걸면, 돈을 거는 척 할 때에 비해 아주 약간만 상승한다고 함.
- "equivalent bet test"
- 저자가 자신의 수업에서 이 방법을 훈련할 때 사용하는 표현.
- 이 방식이 calibrated를 위한 가장 효과적인 전략.

## Further Improvements on Calibration

- calibration에 대한 훈련은 매우 효과 있다고 함.
- equivalent bet test 이외의 또 다른 훈련법은 반복과 피드백.
- 다만, 단일한 방법으로는 어렵고 여러가지를 복합적으로 활용해야 함.
- 먼저, 사람들에게 자신의 추정에 대해 잠재적인 문제는 없을지 찾아보라고 묻기.
- 답변이 잘못됐다고 가정하고 왜 틀렸는지 스스로에게 설명하라는 것.
- 우리는 한 번 선택을 하면 그걸 계속 고수하는 경향이 있음.
- 스스로의 추정에 무엇이 잘못됐는지 의도적으로 찾아야 함.
- 다음 방법으로, 상한선과 하한선 각각을 "binary" 질문으로 바꾸기.
- 사람들은 범위로 대답할 때, 하나의 숫자를 먼저 생각하고, 이에 대한 에러를 더하고 빼서 범위로 만든다고 함.
- 언뜻 합리적으로 보일지 모르지만, 앵커링 효과로 범위 과신으로 이어짐.
- 그래서 상한선에 대해서는 "이보다 작은 값일 확률이 95%이냐?"라고 묻고, 하한선에 대해서도 반복하기.
- 또 다른 방법은 "absurdity test".
- 터무니 없는 범위를 잡은 후, 이건 정말 가능성이 없다고 생각하는 값을 제거해 가는 것.
- 질문을 "무슨 값일 것 같니?"에서 "어떤 값이 터무니 없어 보이니?"로 바꾸는 것.
- 3가지 방법 모두 앵커링 효과를 피하기 위한 방법.
- 결국 이전과 지금 내용을 요약하면, quivalent bet과 anti-anchoring.

## Conceptual Obstacles to Calibration

- calibration에 대한 여러 심리적 장애물 이야기.
- 이를 저자가 하나씩 설명하며 제거해 가는 과정이 재밌음.
- 일단 장애물의 첫 번째 부류.

```
1. 나의 90% 확신은 90% 확률을 가지지 못한다. 90%의 주관적 확신은 90%의 객관적 가능성을 결코 가지지 못하기에.
2. 여기 내 90% 신뢰 구간이 있지만, 이것이 맞는지 전혀 모르겠어요.
3. 우린 추정할 수 없다. 아무 것도 모르니까.
4. 정확한 답을 모르면, 우린 확률에 대해 전혀 모르는 것.
```

- 정확한 정량이 어렵다고, 전혀 모르는 건 아님.
- 보안 전문가와 바이러스에 의한 장애 시간의 CI를 구하는 사례와,
- 747 비행기의 날개 길이를 구하는 사례 얘기가 흥미로움.
- 모두 absurdity test로 접근.
- 가정은 우리가 참이라고 간주하는 문장이지만,
- 그것의 참 여부가 중요하다기 보다는 논쟁을 위한 것.
- 양에 대해서도 마찬가지로, 정확히 모르지만, 가정이 필요함.
- 다만 불확실성을 범위와 신뢰 구간으로 표현.
- 정확성의 부담에 길을 잃지 말고,
- 그리고 숫자의 선언에 대한 책임에 짓눌리지 말고,
- 조금이라도 알고 있는 것과 그 불확실성을 들여다 보자.
- 다음으로, 아래와 같은 장애물 부류도 있음.

```
5. 모든 것에 터무니 없게 긴 범위를 두면, 모든 걸 맞출 수 있는 거 아닌가?
6. 하지만 내 범위가 너무 넓어서 유용하지가 않아요. 뭐가 좋은 거죠?
```

- 위 질문들은 목적을 잘못 이해한 것.
- 90% 신뢰구간을 명시하는 게 목적이고, 이는 불확실성을 드러내기 위한 것.
- 마찬가지로, 참/거짓 문제에서 랜덤으로 찍고 50% 신뢰구간이라고 말하는 것도 의미 없음.
- 이 역시 불확실성을 표현하지 못하며 추정 훈련에도 도움 안 됨.
- 범위가 너무 크더라도 그게 불확실성을 표현하기 위함이라면 괜찮음.
- 처음의 불확실성 추정이 최종 단계가 아님을 기억하자.
- 다음 단계에서는 추가 정보를 얻고 불확실성을 조정해 감.
- 지금의 불확실성이 진짜 불확실성을 나타내지 않으면 이 다음 단계가 의미 없음.

```
7. 정확한 확률을 어떻게 알 수가 있죠?
```

- 위 질문은 우리가 정의한 확률에 대한 이해 부족에 의한 것.
- 아마도 확률은 객관적이고, 우리의 정보 수준과는 독립된 대상으로 바라봤을 것.
- 특정 장소와 시간의 바위 질량이나 바닷 속 온도에 대한 것이 아님.
- 대신, 의사결정을 위한 확률을 사용하는 것.
- 불확실성을 표현하는 수단임.
- 나머지 장애물들은 다음 장에서 다룸.

## The Effects of Calibration Training

- 이 부분도 재밌음.
- 일단, calibration에 대한 개념적 장애물에서 다루지 않은 2개 문장 다시 언급.

```
8. (앞서 나온 CI 질문들은) 사소한 지식에 대한 테스트다. 얼마나 확률을 잘 부여하는지에 대한 테스트가 아님.
9. 종사하고 있는 분야에 대한 질문만을 calibration에 사용해야 함. 일반적 퀴즈에 대한 calibrated는, 전문화된 주제에 대한 calibration을 향상시키지 못함.
```

- 이번 장은 위 문장들에 대한 반박.
- calibration 훈련은 효과가 있다는 얘기들.
- 일단, CI 훈련을 거치면서 얼마나 calibrated 됐는지에 대한 데이터 소개.

![](./그림%205-5.%20단체%20성능.png)

- 처음엔 50% 정도의 정확성이었는데 calibrated 수준인 90%에 가까워지는 것을 볼 수 있음.
- 이번엔 개인차를 나타내는 데이터 소개.
- 훈련 후 마지막 테스트에 대한 점수 분포이며, 기대했던 점수 분포와의 차이를 보여줌.

![](./그림%205-6.%20훈련%20이후의%2090%25%20CI%20테스트%20점수%20분산.png)

- 80% 정도는 기대했던 calibration에 도달.
- 나머지 20% 중 15%는 그래도 처음 테스트에 비해 높은 수준으로 향상.
- 마지막 5%는 아무런 향상이 없었다고 함.
- 5% 인원은 아마도 의사결정에 영향을 줄 수 없는 상황이라 동기부여가 떨어진 것이 아닐까 추측한다고.
- 어찌됐든 대부분은 향상을 보여줌.
- 이 데이터 기반으로 훈련의 효과를 아래와 같이 주장.
- 먼저, 이 훈련이 단지 사소한 지식 테스트라면, 어떻게 이런 향상이 있었겠는가?
- 테스트는 매번 완전히 랜덤으로 출제했다고 함. 뒤로 갈수록 쉬워지는 게 아님.
- 다음으로, 단지 퀴즈에 대한 스킬 향상이라면, 마찬가지로 어덯게 이런 개선이 있었겠는가?
- (이건 내 번역이 이상한건지, 잘 와닿지 않는 주장이다.)
- 마지막으로, 이 훈련이 실제 세상의 전문 분야에서도 통한다는 주장.
- 이를 위해, 훈련 받은 사람과 받지 않은 사람을 두고, 동일한 전문 분야에서 예측을 하게 하고 그 결과를 비교했다고 함.
- 1997년 Giga 라는 회사에, 16명의 분석가들을 훈련 후 테스트틀 했고, 비교군을 위해 다양한 회사의 16명의 CIO에게 같은 테스트 진행.
- 결과는 아래와 같았다고 함.

![](./그림%205-7.%20calibration%20훈련%20결과%20비교.png)

# CH6. Quantifying Risk through Modeling

- 앞서 불확실성과 리스크를 정의했었음.
- Definitions for Uncertainty, Risk, and Their Measurements 참고.
- 이번 장에서는 어떤 리스크 분석에도 사용할 수 있는 기본 도구 이야기.
- 그리고 도구를 이용해 발견할 수 있는 것들도 얘기.
- 일단은 흔히 리스크 측정에 사용되지만 아무런 인사이트를 주지 못하는 방법부터 소개.

## How Not to Quantify Risk

- 많은 조직들이 리스크를 단순히 "높음", "중간", "낮음"으로 분류.
- 혹은 1에서 5 사이의 값으로 표현.
- 하지만 이 값이 실제로 무엇을 의미하냐고 물으면 모름.
- 왜냐면 모호하기 때문.
- 이 방식은 의사결정에 도움이 안 됨.
- 오히려 오류를 더한다고 함.
- 오류의 반올림 등으로 인해 서로 다른 리스크에 동일한 점수를 부여하는 식으로.
- 게다가 5장에서 다뤘던 인간의 전형적 편향도 전혀 다루지 않음.
- 나아지고 있다는 느낌과 실제로 추적 지표들이 시간에 따라 나아지는 것은 서로 다름.
- 결정과 예상을 실제로 향상시킨다는 측정된 근거가 있어야 함.

## Real Risk Analysis: The Monte Carlo

- 비현실적으로 정확한 단일 값 대신 불확실성을 범위로 표현하면,
- 모르는 사실에 가정을 하지 않아도 됨.
- 한편, 정확한 값은 더하고 빼고 곱하고 나누기가 쉬움.
- 그래서, 범위에 대한 계산 방법을 찾아야 함.
- 이게 "몬테 카를로 시뮬레이션".
- 이는 컴퓨터를 이용해, 입력 값들의 확률에 기반한, 대량의 시나리오를 만들어 냄.
- 각 변수들에 임의 값을 부여하고 공식에 대입.
- 그렇게 얻은 결과 하나 하나가 개별 시나리오.
- 모든 리스크는 사실 하나의 방법으로만 궁극적으로 표현 가능.
- 바로, 비용/이익에 대한 불확실성 범위, 그리고 이들에 영향 미치는 사건의 가능성.
- 모든 비용과 이익에 대해 정확한 시기와 양을 알고 있다면, 이는 리스크가 없는 것.
- 이득이 줄어들거나 비용이 올라갈 가능성이 없는 것.
- 하지만, 우리가 실제 아는 것은 정확한 포인트가 아니라 범위임.
- 넓은 범위로만 알기에, 마이너스 수익이 날 수 있는 것.
- 이것이 리스크 계산의 근간이고, 몬테 카를로 시뮬레이션이 추구하는 것.

## An Example of the Monte Carlo Method and Risk

- 제조 공정을 줄이기 위해 새로운 기계 임대를 고려중이라고 해보자.
- 수지 타산을 위해 아래의 것들을 고려.

```
1. Maintenance savings (MS): 유닛 당 $10 ~ $20
2. Labor savings (LS): 유닛 당 -2$ ~ 9$
3. Raw materials savings (RMS): 유닛 당 $3 ~ 9$
4. Production Level (PL): 연간 15,000 ~ 35,000 유닛
5. Annual lease (breakeven): $400,000
```

- 몬테 카를로 시뮬레이션을 브루트-포스<sup>brute-force</sup> 접근법 사용.
- 컴퓨터를 이용해 임의의 수천 가지 값을 고름.
- 물론, 위에서 명시한 범위 내의 값들.
- 그리고 아래 공식에 대입해서 여러 값을 산출.
- 이 값 하나 하나가 별개의 시나리오.
- `Annual Savings = (MS + LS + RMS) x PL`
- 이제 연간 절약 비용에 대한 범위를 알았음.
- 어떤 경우는 $600,000가 넘고 어떤 경우엔 $400,000 미만.
- 값들을 표로 나타내면 아래 그림과 같음.

![](./그림%206-2.%20단순%20몬테%20카를로%20엑셀%20표.png)

- 여기서 좀 더 나아가서 분포 모양이 필요.
- 상황마다 더 적절한 분포 모양이 있음.
- 가장 자주 사용되는 건 "정규" 분포.
- 하지만 우린 엑셀의 `=countif()` 함수를 이용해 도출.
- $100,000 단위의 히스토그램으로 표현하면 아래와 같음.

![](./그림%206-3.%20히스토그램.png)

- 14%의 가능성으로 손실이 있음을 볼 수 있음.
- 그리고 $100,000 넘게 손실이 일어날 확률은 3.5%.
- 정규분포와 표준편차를 이용해 간단히 계산하는 방법도 소개.
- 이항분포, 균등분포, 베르누이분포도 간략 언급.
- 그리고 이들 모델은 모두 추상화된 것임을 강조.
- 언제나 어떤 노력을 해도 놓치는 세부 사항이 있을 수 밖에 없음.
- 이전 모델에 비해 비용 대비 더 좋은 성능을 내는지가 중요.
- 지금 나온 얘기들은 매우 간단한 버전임.
- 현실에서의 복잡성을 담아내려면 더 많은 노력들 필요.
- 더 많은 분산도 있고, 상관계수도 있고, 마르코프 시뮬레이션, 에이전트 기반 모델 등을 언급.

# CH7. Quantifying the Value of Information

- 정보의 가치를 측정할 수 있다면?
- 측정 수행이 가치 있는지 알 수 있음.
- 완전히 다른 것을 측정할 수도, 더 적게 측정할 수도, 훨씬 경제적으로 측정할 수도 있음.
- 이전에 측정해 보지 않은 것에 더 많은 노력과 돈을 지불할 수도.
- 과거에 일상적으로 측정했던 것은 무시할 수도.
- 비즈니스에 정보가 가치 있는 이유는 아래 3가지.
- 첫째, 정보는 결정에 관한 불확실성을 줄여줌. 이 결정은 경제적 결과를 불러옴.
- 둘째, 정보는 다른 이들의 행동에 영향을 줌. 이 행동 역시 경제적 결과를 가짐.
- 셋째, 정보는 그 자체로 시장 가치를 지님.
- 여기서 가장 중요한 것 첫 번째.
- 이번 장은 이 첫 번째에 대한 이야기.

## The Chance of Being Wrong and the Cost of Being Wrong: Expected Opportunity Loss

- 정보의 가치를 계산하는 방법 이야기.
- 결론은 아래와 같음.

```
EVI(Expected Value of Information)
= 정보를 얻기 전의 EOL - 정보를 얻은 후의 EOL
= EOL이 얼마나 감소하느냐

EOL = chance of being wrong x cost of being wrong

EVPI(Expected Value of Perfect Information)
= 정보를 얻기 전의 EOL
```

- 개인적으로는 EVI는 물론 EVPI도 설득력 있었음.
- 처음엔 EVPI로 접근해도 될 듯.

## The Value of Information for Ranges

- 앞서 정보 가치를 계산할 땐, 편의상 결과를 2가지로 나누었음.
- 예를 들어, 제품 홍보를 할지 말지에 따른 예상 손실(=정보 가치)은 아래와 같았음.

| 변수 | 홍보 성공 | 홍보 실패 |
| -- | -- | -- |
| 확률 | 60% | 40% |
| 홍보를 한다면 | 4천만$ | -5백만$ |
| 홍보 안 한다면 | 0$ | 0$ |

- 현재 정보 기반으로는 홍보를 하기로 결정한 상태.
- 그러니까, 만약 정보를 완벽하게 더 얻을 수 있고, 그리고 이게 잘못된 선택이라면, 손실이 40% * 5백만$이므로, 정보의 가치는 2백만$임.
- 이제 더 나아가서, 성공한다 실패한다 이렇게 이분법이 아니라 아래와 같이 범위로 표현할 수 있음.

![](./그림%207.2%20EOL%20범위%20추정.png)

- 범위로 표현하는 것도 어렵지 않음.
- 일단 분포를 수백 수천개의 작은 구간<sup>segment</sup>으로 쪼개기.
- 지금 사례에서는 2,000개가 손익 분기점이니 1천개나 2천개로 나눌 수도.
- 미리 정의한 손실 함수에 각 구간 값을 대입.
- 여기서의 손실 함수는 아래와 같았음.

```
1. 20만개 미만으로 판매 시 손실 = (200,000 - 판매 상품 수) * $25
2. 20만개 이상으로 팔 경우 손실 = 0
```

- 다음으로 각 구간에 대해 확률을 부여.
- 간단히 정규 분포를 사용할 수도 있음.
- 이제 각 구간 별로 확률에 손실을 곱함.
- 곱한 값들을 모두 합계.
- 책의 사례에서는 20만 달러였음.
- 하필 같은 값을 가진 손익 분기점과 혼동하면 안 됨.
- 좀 더 간단한 방법도 얘기해 주고 있음.
- 공식만 간단히 정리.

```
RT(Relative Threashold) = (Threasold - Worst Bound) / (Bets Bound - Worst Bound)
```

![](./그림%207.4%20상대%20임계치%20예시.png)

## Beyond Yes/No: Decisions on a Continuum

- 지금까지는 단순히 성공/실패 상황만 있는 경우의 정보 가치를 계산했음.
- 정보의 가치를 범위로 표현한 경우도 결국 성공/실패는 이분법이었음.
- 하지만 추정 수량과 결정 모두 연속적인 경우도 있음.
- 예컨대, 새로운 공장의 capacity를 결정하는 일.
- 수요보다 많은 생산량의 공장은 유휴가 발생함.
- 수요보다 적은 생산량은 더 많은 수익을 낼 수 있는 기회를 놓침.
- 이때는 손실 함수를 2개를 사용.

![](./그림%207.6%20연속체%20결정의%20손실%20함수.png)

- 여기서는 양측 모두의 기대 손실의 총합을 최소화하는 추정치를 골라야 함.
- 만약 손실 함수가 양측이 서로 대칭이라면, 범위에서 중앙값을 고르면 됨.
- 사례에서는 수요 과소 평가의 손실 함수 기울기가 더 큼.
- 그래서 최소 손실을 위한 값은 24만.

## The Imperfect World: The Value of Partial Uncertainty Reduction

- 지금까지는 EVPI(Expected Value of Perfect Information)을 계산.
- 이는 불확실성이 완전히 제거된 상황을 가정한 것.
- 이 자체로도 도움이 되긴 함.
- 하지만 현실에서는 불확실성 존재.
- EVI(Expected Value of Information)이 필요할 수 있음.
- 한편, ECI(Expected Cost of Information)도 함께 필요.
- 이는 정보를 얻기 위한 예상 비용을 가리킴.
- "예상"이기에 "확률이 부여된 평균"을 의미.
- ECI까지 구하는 건 어렵긴 함.
- 하지만, EVI와 ECI는 그림 7.7과 같은 관계를 가짐.

![](./그림%207.7%20EVI와%20ECI.png)

- 그림에서 보듯 불확실성을 조금만 줄여도 정보의 가치는 큼.
- 하지만 어느 정도 이상의 불확실성 줄이기는 큰 가치를 주지 못함.
- 물론 이 기울기는 초기 불확실성의 양, 분포 모양, 손실 함수의 세부 사항에 따라 다름.
- 어떤 경우는 기울기가 1인 우상향 직선에 가깝기도.
- 기억해야 할 EVI의 또 다른 특징은, 측정 값의 불확실성은 줄어들어도 결정에 대한 불확실성이 달라지지 않는 경우도 있음.
- 예컨대, 판매량이 150,000에서 300,000 사이라고 할 때, 그리고 임계치가 만약 200,000이라면, 추정 범위의 하한선이 200,000 이상이 되는 순간, 불확실성은 계속 줄어들 수 있어도 결정에는 영향을 미치지 않음.

### Perishable Information Values

- 시간에 민감한 결정일수록, 작은 불확실성 제거로 얻는 수확은 더 커짐.
- 예를 들어, 부동산 투자는 시간이 지날수록 정보는 확실해지지만 이득은 줄어듦.

![](./그림%207.8%20EVI와%20ECI의%20시간축%20그래프.png)

- 이번에는 EVI, ECI 그래프에서 가로축을 정보의 품질에서 시간으로 변경.
- EVPI, EVI를 보면 정보의 가치는 빠를수록 큼.
- ECI는 여기서는 무시. 물론, 시간에 따라 변한다면 같이 고려할 수도.

### Information Values for Multiple Variables

- 불완전한 정보의 또 다른 예시로, 결정을 위한 많은 변수 중 일부만 측정하는 것.
- 개인적으로 가장 많이 경험한 문제라고 함.
- 단일 변수만을 계산한 적 없음.
- 항상 수많은 변수들 중 무엇을 더 측정해야 하는지를 고민.
- 이것이 어려운 이유는 변수들이 서로 영향을 주기 때문.
- 예컨대, 편익 분석에서, 비용이 비용 범위에서 어디에 위치하느냐에 따라, 임계치를 위한 이득 값의 위치도 달라짐.
- 이 문제를 다루는 방법으로 2가지 이야기.
- 먼저, 단순 근사.
- 변수 하나를 제외한 다른 것들은 중위값으로 간주.
- 그리고 변수의 임계치를 찾고 정보 가치를 계산.
- 그리고 다시 리셋하고 다른 변수들에 대해서도 하나씩 진행.
- 이는 변수들 간 관계를 무시하기에 매우 대략적인 추정임.
- 다음으로, Overall EOL 또는 Decision EOL이라 저자가 칭하는 방법.
- 더 이상 측정하지 않고 현재 결정을 유지했을 때, 모든 가능한 결과들의 평균으로 시작.
- 그리고 변수 하나를 고르고, 그 변수에 대해선 정확이 아는 것이라 가정한 뒤, 나머지 변수들에 대해 몬테카를로 시뮬레이션.
- 이 때의 Overall EOL을 구하기.
- 그리고 기본값과의 차이를 구하면 이게 그 변수에 대한 "개별 EVPI".
- 변수 2개를 함께 고려할 수도 있으며, 1개 변수 결과값과의 차이가 "한계<sup>marginal</sup> 개별 EVPI".

## The Epiphany Equation: How the Value of Information Changes Everything

- 저자는 여러 경험 뒤 아래 3가지 패턴 발견.
- 첫째, 대부분의 변수는 정보 가치가 0.
- 둘째, 높은 정보 가치를 가지는 변수들은 고객들이 측정하지 않았던 것들.
- 셋째, 그동안 측정해 왔던 변수들은 보통 정보의 가치가 매우 낮음.
- 그래서 Measurement Inversion라는 말로 정리.

| 분류 | 예시 |
| -- | -- |
| 낮은 가치 / 전형적 측정 대상 | 활동 시간, 세일즈 트레이닝 참석, 프로젝트 단기 비용, 안전 검사에서 발견된 위반 수 |
| 높은 가치 / 잘 측정 안 하는 | 활동 가치, 세일즈 트레이닝 효과, 프로젝트 장기 비용, 큰 사고 리스크의 감소 |

- 이런 현상이 일어나는 이유는 우리가 쉽게 할 수 있는 측정을 하기 때문.
- 그리고 과거의 측정들이 불확실성이 적어 계속 사용하기 때문. 하지만 미래의 결정엔 맞지 않음.
- "망치를 갖고 있다면, 모든 문제가 못으로 보인다."
- 잘 하고 있는 것 처럼 보이는 측정을 하려는 경향도 하나의 이유.
- 마지막으로 측정의 가치를 잘 모르는 것도 이유.
- 때로는 비용이 많이 드는 측정이 있을 수도 있지만,
- 그것이 주는 가치를 계산하고 나면 어렵고 비싼 게 아니라 실용적으로 느껴질 수도.
- 한편, 몬테 카를로 시뮬레이션으로 시작해서 신뢰 구간과 결과 분포 생성만 하고 끝나기도.
- 추가 측정의 가치를 고려하지 않고, 금전적 관점으로 이어지지도 않기에, 의사 결정자에게 충분한 지침이 되지 못함.
- 그래서 정보 가치에 대한 계산 공식을 저자가 "통찰 방정식<sup>epiphany equation</sup>"이라 부르는 것.

## Summarizing Uncertainty, Risk, and Information Value: The Pre-Measurements

- 불확실성을 어떻게 측정할지 이해하는 게 리스크 측정에 핵심.
- 리스크를 정량적으로 이해하는 것은 정보 가치 계산에 핵심.
- 정보 가치의 이해는, 무엇을 측정하고 얼마나 노력을 쏟아야 할지 말해줌.
- 이게 바로 3가지 "사전 측정".
- 그리고 우리는 2가지를 알 수 있었음.
- 첫째, 초기의 측정이 높은 가치를 가짐.
- 불확실성을 정의하고, 현재의 정도를 측정하고, 정보 가치를 계산해서 결정에 얼마나 중요한지 판단하고, 측정하고, 불확실성 줄이고, 배운 것을 확인하고, 추가 측정 필요한지 판단하고, 측정 방법을 바꿀 필요는 없을지 돌아보고, 이 일련의 과정을 반복.
- 둘째, 측정 가치를 계산해야 함.
- 그렇지 않으면, 불필요한 것을 측정하는데 시간을 쏟거나, 정작 중요한 것은 놓칠 수 있음.
- 지금까지의 책 내용은 "페이즈 1".
- 무엇을 측정해야 하는지, 그 측정에 얼마를 지불할 수 있는지를 알았음.
- 이제는 측정 방법 설계 이야기.

# CH8. The Transition: From What to Measure to How to Measure

- 지금까지는 측정 전에 하는 것들을 얘기함.
- 측정이 어떤 결정에 영향을 주는지
- 측정 대상은 어떻게 발견하는지
- 불확실성을 어떻게 정량화할지
- 정보의 가치는 어떻게 계산할지
- 정보 가치 기반으로 어떤 걸 고를지
- 얼만큼의 노력을 기울여야 할지 (이 또한 정보 가치 기반)
- 이제부터는 실제 측정 이야기
- 우리의 측정은 실증적 측정 수준은 아니라고 함.
- 눈에 보이지 않을 수도, 그리고 직접적이지 않을 수도.
- 정교한 방법이 필요한 것도 아님.
- 장애물은 오히려 방법이 아니라 개념.

## Tools of Observation: Introduction to the Instrument of Measurement

일단 측정 도구 개념 얘기부터.

- 오늘날 측정 도구는 일반적으로 복잡해 보이는 기계 장비일 거라고 여겨짐.
- 하지만, 전화 설문이나 시험 등도 엄연한 측정 도구.
- 우리의 측정에도 이 넓은 의미의 개념 필요.
- 그리고 측정 도구엔 오류가 있음.
- 하지만, "무엇과 비교해서?"라는 게 중요.
- 아무것도 안 하는 것이나, 아무 도구도 없는 사람의 관찰에 비할 수도.
- 다시, 측정의 목적은 불확실성의 감소.
- 불확실성의 제거가 아님.

그리고 도구는 아래 7가지 장점 가짐.

1. 사람이 탐지할 수 없는 걸 도구는 탐지함. 예컨대 전압계, 현미경.
2. 보다 더 일관적.
3. 오차를 보정하기 위한 calibration 가능.
- calibration: 기기 자체를 검사하기 위해, 이미 답을 알고 있는 걸 측정하기.
4. 종종 오류를 상쇄하기 위한 방법들을 가짐(대조군이라 부름).
5. 보지 않아도 되는 요소는 의도적으로 무시.
6. 기록함.
7. 사람보다 빠르고 저렴.

도구의 예시.

- 양 세는 줄 달린 구슬.
- 샘플링과 실험적 접근(?).
- 웹 설문 (비용 저렴하고 분석 더 쉬움. 이것에 의문 가진 사람들도 있지만, 이게 없다면 얼마나 불확실할까)

Four Useful Measurement Assumptions 다시 언급.

- 이전에 측정된 적 있다.
- 생각보다 많은 데이터를 갖고 있다.
- 생각보다 적은 데이터가 필요하다.
- 유용하고 새로운 관측은 생각보다 접근하기 쉽다.

## Decomposition

- 분해는 대상의 불확실성을 많이 줄여주는 도구.
- 추정자로 하여금 처음 생각보다 더 많은 것을 알고 있음을 발견하게 함.

### Decompose It

- 불확실한 변수를 더 작은 단위로 분해하면,
- 좀 더 직접적이고 쉽게 측정할 수 있는 대상 식별 가능.
- 높은 불확실성을 가진 추정일수록 약간의 분해로 크게 개선.
- 불확실성 큰 변수는 또한 결정에 있어 높은 정보 가치를 갖는 경향 있음.
- 이런 식의 비간접적 관찰 특성은 실증주의 과학에서 많이 보임.
- 다만, 정보의 가치 측정이 선행되어야 함. 가치를 기반으로 어디를 분해할지 찾아가기.
- 협업 도구 도입으로 생산성이 얼마나 늘어날지를 정보 가치 판단 후 분해해 가는 과정을 사례로 들고 있음.
- 저자는 20년간 80개 넘는 리스크/수익 분석을 했는데,
- 약 7천개의 개별 변수들을 고려했고 이 중 180개가 정보 가치에 따른 추가 측정이 필요했음.
- 그리고 이 중에서 150개는 분해가 필요했음.
- 그런데 이 분해된 것 중 1/3은 추가 측정이 필요치 않았음.
- calibrated 전문가들이 이미 알고 있었기 때문.

## Secondary Reasearch: Assuming You Weren't the First to Measure It

- 과학계에서는 기존의 문헌을 찾는 게 일반적.
- 하지만 비즈니스 분야에서는 이런 방식이 자리잡지 못한 듯.
- 새로운 측정법을 개발해야 한다고 생각하곤 함.
- 하지만 대부분의 경우 그런 혁신은 필요치 않음.
- 같거나 비슷한 측정 질문을 고민했던 사람이 있었다고 가정하라.
- 저자는 모든 연구를 인터넷에서 시작. 구글과 빙, 그리고 나서 도서관.
- 몇 가지 자세한 팁들 설명해 주고 있음.
- 예컨대, 저자에게 생소한 주제라면 구글링이 아니라 위키피디아에서 시작.
- 그리고 연구나 정량 데이터와 관련된 단어를 사용해 검색. 표, 설문, 대조군, 상관관계, 표준편차, ...

## The Basic Methods of Observation: If One Doesn't Work, Try the Next

- 기본적인 관측 방법 소개.
- 아래 4가지 질문을 해보라고 함.
- [1] 어떤 형태로든 흔적을 남기는가?
- [2] 흔적이 없다면, 직접 관찰하거나 샘플링할 수 있는가?
- [3] 흔적도 없고, 직접 관찰도 어렵다면, 지금부터라도 추적할 수 있는 방법을 만들 수 있나?
- [4] 위 방법들이 모두 불가하다면, 강제로 조건을 만들어 상황을 만들어낼 수 있는가?
- 추적의 예로는 "태깅"이 있음. 아마존은 어떤 책들이 선물로 구입되는지 파악하고자, 무료 포장을 제공했다고 함.
- 조건을 만든다의 한 예는 실험. 환불 정책이 고객 만족과 판매량에 영향을 미치는지 알아보기 위해, 이 정책을 일부 매장에서만 시행해보고, 차이를 식별해 볼 수 있음.

### Some Basic Methods of Observation

일단 같은 말 반복으로 시작.

1. 흔적을 추적하라.
2. 직접 관찰하라. 보고, 세고, 샘플링.
3. "예광탄"을 추가해서 흔적 남기기를 시작.
4. 관측을 위한 조건 만들기(실험).

이 방법들은 현재 발생 중인 것을 측정하는데에도, 그리고 예측에도 적용됨. 그리고 태깅을 하거나 실험할 땐 일부 샘플링만으로도 충분. 분해된 서로 다른 요소들은 서로 다르게 측정해야 할 수도 있음도 기억.

## Measure Just Enough

- 7장에서 현재 불확실성, 정보 가치, 임계점을 다룸.
- EVPI는 이론적인 상한선이었음.
- 저자는 대략 EVPI의 10% 비용을 지불한다고 함.
- 상황에 따라서는 2% 미만.
- 다음의 3가지 이유 때문.
- [1] 실증적 방법은 모두 오차가 있음. 이를 줄여갈 뿐. 따라서, 측정값은 EVPI에 훨씬 못 미칠 것.
- [2] 초기 측정 이후 이어지는 측정의 가치는 점점 낮아짐.
- [3] 정보 가치 그래프의 기울기는 매우 가파름. 처음 100개와 다음 100개의 샘플은 확연히 다르며, 처음 10개와 다음 10개도 큰 차이.

## Consider the Error

- 모든 측정은 오차를 가짐.
- 오차는 크게 2가지 부류로 나뉨.
- 시스템적인 것과 무작위인 것.
- 시스템적인 것이라 함은, 일관적인 오류이며, 관찰마다 달라지는 것이 아님.
- 무작위 오류는, 개별적으로는 에측할 수 없으나, 어느 정도 정량화된 패턴이 있어 확률 법칙으로 계산 가능한 것.
- 2가지 오류 유형은 정밀도<sup>precision</sup>와 정확도<sup>accuracy</sup> 개념과 연관.
- 정밀도는 측정의 재현성과 일치성을 가리킴.
- 정확도는 측정이 진짜 값에 얼마나 근접한가.
- 유효성과 신뢰성이라고 부르기도 함.
- 예를 들어, 일부러 과소/과대 측정하도록 된 체중계는 정밀도는 높지만 정확도는 낮음.
- 다르게 표현하면, 정밀도는 낮은 무작위 오류, 정확도는 낮은 시스템적 오류.
- 각각의 오류는 줄일 수 있음.
- 정밀도 문제라면 차이를 알아낸 뒤 눈금을 조정.
- 정확도 문제라면 여러 번 측정해서 평균을 내는 식으로 오차를 보정.
- 이런 오류 줄이기 방법들을 가리켜 "control"이라 부른다고 함.
- 랜덤 샘플링은 잘 사용하면 제어의 한 유형.
- 동전 던지기의 경우 각각은 예측하기 어렵지만 여러 번 수행하면 어느 정도의 경향을 가짐.
- 하지만 정밀도 문제는 이보다는 좀 더 어려움.
- 비즈니스 분야에 있는 사람들은 보통 정밀도를 선택한다고 함.
- 영업 담당자가 고객과의 미팅에 시간을 더 많이 쏟는지 다른 관리 작업에 쏟는지 판단한다고 해보자.
- 그럼 사람들은 타임시트 전부를 리뷰한다고 함.
- 랜덤 샘플링을 수행하는 대신 말이다.
- 타임시트는 하지만 그 자체로 오류를 가짐.
- 금요일 퇴근 시간에 한 주간의 타임시트를 작성한다고 생각해 보면 됨.
- 만약, 5,000개의 타임시트를 확인하니, 34%의 시간이 고객고의 직접 커뮤니케이션에 쓰인다면, 우리는 이게 진짜 값으로부터 얼마나 떨어진 건지 알 길이 없음(정확도).
- 한편, 무작위로 선택한 영업 담당자를 무작위 시간에 관찰했을 때, 100번 중 13번을 고객 접촉에 할애하고 있었다고 해보자.
- 90%의 CI로 7.5%에서 18.5%라고 계산해 볼 수 있음.
- 샘플링은 값을 범위로 주지만, 그래도 우리는 이걸 더 선호해야 함.
- 전체 시간을 측정하는 게 목적이라면 말이다.
- 물론, 단지 변화를 관찰하는 거라면, 정확도는 중요치 않음.
- 체중계 눈금이 잘못되어 있어도, 체중의 변화를 알고 싶으면 괜찮음.
- 이렇게 평균을 내도 조정할 수 없는 에러는 시스템적 오류이며 "편향"이라고 불림.

### Small Random Samples versus Large Nonrandom Samples

- 킨지라는 사람의 성 연구.
- 인기가 많았고 논란도 그만큼 많았음.
- 그는 조사를 위해 18,000명의 사람을 만남.
- 하지만 무작위 표본이 아니었고, 추천을 통해 사람을 만.
- 따라서 특정 그룹(볼링 리그, 대학 친목회, 독서 동아리 등)이 표본이 됨.
- 킨지는 충분히 큰 표본이 이로 인한 오류를 상쇄할 거라 생각.
- 하지만 체계적 오류는 그렇게 동작하지 않음.
- "평균화" 되지 않음.
- 3명을 무작위로 선택하는 게 킨지의 300명 그룹보다 나았을 거라는 인용도 있음.

### A Few Types of Observation Biases

- Expectancy bias: 원하는 것을 보려는 경향.
- Selectino bias: 무작위 추출에서 의도치 않게 비무작위 결과를 얻을 수도. 금융 지역 거리에서 유권자 조사를 한다면 비무작위.
- Observer bias: 관찰 행위는 행동을 바꾸게 함. 작업자들의 환경을 바꾸려고 이런 저런 관찰을 하기 시작하면 어떤 조건을 두더라도 생산성이 더 좋아짐. 그들에 대한 관심이 그들의 행동을 바꾼 것.

## Choose and Design the Instrument

문제를 분해하고, 분해된 것을 계층화하고, "일정 수준 충분한" 불확실성 감소를 목표로 하면서, 주요 오류 유형을 고려하면, 측정 도구가 마음속에 그려질 것. 도구를 어떻게 식별할지 요약.

1. 측정을 분해해서, 다른 측정으로부터 값을 구할 수 있게 하기. 혹은 이 과정을 통해 불확실성 감소를 꾀하기.
2. 다른 조사들을 참고. 관련 없어 보이더라도 도움 받을 수도.
3. 분해된 각 요소들에 대해 측정 방법들을 배치. 이미 남겨진 흔적들 추적, 직접 관찰, 태깅 후 관찰, 실험.
4. "just enough"를 항상 인식하기. 엄청난 정확도가 필요한 게 아님. 앞서 EVPI의 10% 얘기했었음.
5. 문제에 특화된 오류를 생각하기. 결과에 대한 사람의 평가라면, 기대 편향과 블라인드를 고려. 샘플링을 한다면 무작위성 고려. 관측이 미칠 수 있는 영향이 있다면 관찰을 숨기는 방법 고려.

아래 팁들도 함께 고려하기.

- 결과를 고려하기. 2장에서처럼 테라피스트의 아우라 감지를 실험하거나, 고객 만족도가 올라간다면 불만 접수량의 감소를 보는 등.
- 반복적이기. 한 번에 불확실성을 모두 감소하려고 하지 말 것.
- 여러 접근법 고려.
- 불필요한 측정을 없애는 간단한 질문들 찾기. 에밀리는 테라피 터치의 수준이 아니라 작동 여부만 측정.
- 해보기.

# CH9. Sampling Reality: How Observing Some Things Tells Us about All Things

> It is the mark of an educated mind to rest satisfied with the degree of precision which the nature of the admits and not to seek exactness where only an approximation is possible.

- 벽돌의 결함에 대해 100% 확신하려면 모든 벽돌을 테스트해야 함.
- 그러나 모든 벽돌에 압력을 가해 테스트하면, 판매할 수 있는 건 남아 있지 않을 수도.
- 책에서는 벽돌 얘기를 했지만, 자동차의 충돌 안전 검사 생각해 보면 됨.
- 한편, 전수 조사가 도움이 되는 경우도 있음.
- 월별 재고 조사나, 대차대조표.
- 하지만 모든 걸 확인하는 것은 많은 이유로 비실용적.
- 과학계도 샘플링.
- 우리가 경험에서 얻는 모든 건 샘플.
- 일부를 경험하고 거기서 추론을 함.
- 이번 장은 작은 샘플로부터 어떻게 많은 정보를 그려나갈 수 있는지를 다룸.

## Building an Intuition for Random Sampling: The Jelly Bean Example

- 젤리 빈의 무게는 평균적으로 몇 그램일까?
- 90% CI로 상한선과 하한선 값으로 얘기해 보기.
- 일단 어딘가에 적어두기.
- 그리고 가방에 젤리 빈을 가득 담아왔다고 가정.
- 이제 아래 4개 질문을 고민하기.
  1. 첫 번째 무작위로 고른 젤리 빈 무게를 재보니 1.4그램. 90% CI가 바뀌나?
  2. 다음으로 고른 무게는 1.5그램. 이번엔 CI가 바뀌나? 어떻게 바뀌나?
  3. 다음 3개 무게는 1.4, 1.6, 1.1그램. 이번엔 어떤가?
  4. 마지막으로 다음 3개의 무게는 1.5, 0.9, 1.7그램. 마지막 범위를 적어보자.
- 지난 몇 년간 여러 답을 들음.
- 추정자들의 가장 큰 차이는 초기 추정치.
- 1~2부터 시작해 0.1~100그램 정도의 차이.
- 그리고 대부분은 1~5그램이었음.
- 1~10이나 0.5~50 정도의 큰 범위를 제시했던 사람들은 추가 정보를 받고 범위를 대폭 줄임.
- 작은 범위를 제시했던 사람들은 별다른 조정이 없었음.
- 진짜 평균 값은 1.45그램에 가까움.
- 흥미로운 건, 추가 샘플링 후 추정치가 매우 좁게 조정된다는 것.
- 이런 훈련은 샘플과 범위에 대한 직관을 기르는 데 도움이 됨.
- "적절한 통계"를 적용하지 않고도 calibrated 추정자들에게 주관적 추정치를 묻는 건 유용함.
- 심지어 전통적 통계보다 장점도 있음.
- 곧 뒤이어 다룰 예정.

## A Little about Little Samples: A Beer Brewer's Approach

- calibrated 측정자가 아니더라도, 맥주 양조업자가 개발한 방법으로 젤리 빈 문제를 접근할 수 있음.
- "t-statistic"이라고 불림. 익명의 "학생" 이름으로 발표되어 "student's t-statistic"이라 불리기도.
- 이는 몇 개의 샘플만으로 전통적인 "z-score"에 근접한 값을 알아내는 방법.
- 절차는 꽤(?) 간단함.
- 먼저, 샘플 분산 구하기. 말 그대로 샘플들이 서로 얼마나 멀리 떨어져 있는지 측정.
  - 평균은 1.4 + 1.4 + 1.5 + 1.6 + 1.1) / 5 = 1.4
  - 그리고 분산을 아래와 같이 조금 다르게 구함.
  - ((1.4 - 1.4)^2 + (1.4 - 1.4)^2 + (1.5 - 1.4)^2 + (1.6 - 1.4)^2 + (1.1 - 1.4)^2) / (5 - 1) = 0.035
- 다음으로, 샘플 분산을 샘플 수로 나누고 제곱 = sqrt(0.035/5) = 0.0837
  - 통계학에서는 이를 '평균 추정치의 표준 편차'라 부른다고 함.
- 세번째로, 샘플 갯수 별 t-score가 적힌 표 중 샘플이 5개일 때의 값을 선정 = 2.13
  - 샘플 수가 커질수록 z-score에 가까워짐
- 네 번째로, t-score와 분산을 곱함 = 2.13 * 0.0837 = 0.178
  - 이게 샘플 에러 (그램 단위)
- 다섯 번째로, 이제 이 값을 평균에서 더하고 빼는 것으로 90% CI 구간을 구함
  - 하한선: 1.4 - 0.178 = 1.222
  - 상한선: 1.4 + 0.178 = 1.578

## Are Small Samples Really "Statistically Significant"?

- 아래 3가지 내용 다룰 예정이라 함.
  1. "통계적 유의성"는 종종 잘못된 개념으로 이야기됨.
  2. 제대로 알고 계산했더라도 결과를 잘못 해석.
  3. 해석까지 잘 했더라도 그 정확도는 의사 결정권자가 원래 알고 싶었던 것과는 다름.
- 우리의 직관적 생각과 달리, 매우 작은 샘플도 통계적으로 유의미한 결과를 만들 수 있음.
- 아래 그림은 샘플 수가 늘어날수록 90% CI 구간도 점점 좁아지는 걸 표현.
- 처음 샘플 몇 개에서 폭이 확 줄어드는 걸 볼 수 있음.
- 혈액 속 DNA나 휘발유의 옥탄과 같이, 모집단이 균일한 경우라면 샘플 1개만으로 충분할 수도.
- 그 외의 경우라면 샘플이 좀 더 필요하지만 여전히 그렇게 많은 양은 아님.

![Exhibit 9.2 How Uncertainty Changes with Sample Size](./그림%209-2.%20How%20Uncertainty%20Changes%20with%20Sample%20Size.png)

- 물론, 샘플을 어떻게 고를지는 중요.
- 가까운 친구들이나 지역 이발소 남자들에게만 질문을 한다면 전체 집단에 대한 추정이 어려움.
- 특정 유형의 샘플만 고르지 않음을 보장하는 방법이 필요.
- 조사하려는 전체 집단으로부터 진짜 무작위 샘플링해야 함.
- 전체 모집단의 각 아이템이 선택될 확률은 동일해야 함.
- 무작위로 추출하더라도 여전히 오류가 있지만 확률 규칙으로 오차를 알 수 있음.
- 그리고 무작위 표본 추출 수가 늘어날수록 그 오차는 줄어듦.
- 그러면 얼마나 표본이 커야 할까?
- 여러 권위 있는 얘기들이 있지만, 구체적인 계산 근거는 없었음.
- 통계적 유의성은 실제 수학 없이 많이 거론 됨.
- 뒤에서 좀 더 자세히 다룰 예정.
- 지금은 우선 통계적 유의성이 작은 샘플에 대한 비판 근거로 가볍게 쓸 수 있는 대상은 아니라는 점만 짚고 넘어감.
- 7장에서 다뤘듯 같이 매우 작은 샘플은 우리 생각보다 많은 걸 말해 줌.

## When Outliers Matter Most

- 지금까지의 방법을 적용할 때 주의할 점이 있음.
- 딱 궁금해하던 부분 나와서 반가움.
- t-통계, z-통계 모두 "parametric" 통계학.
- 이들은 분포에 대한 가정이 있음.
- 따라서, 파라미터 추정에는 맞지 않는 모집단 분포도 존재.
- 시작하기엔 좋으나 사실과는 거리가 있을 수도 있는 방식.
- 아래 표는 중위값 추정 수렴 속도의 유형들을 보여줌.

![그림 9-3. Varying Rates](./그림%209-3.%20Varying%20Rates.png)

- 개인의 수입 수준, 지진 강도 등은 샘플 크기가 늘어나더라도 수렴 어려울 수도.
- 아웃라이어가 모집단의 다른 값들보다 훨씬 크기 때문.
- 앞서 잠시 다뤘던 혈류 속 DNA와는 정반대 케이스.
- "예외가 대부분의 것들에 비해 얼마나 크냐?"를 생각해보기.
- 수렴 속도가 느린 유형을 때로는 "power law" 분포라고 부름.
- literally have no definable mean라고 표현.
- 주식 시장의 변동성 등이 그 예.
- 샘플링이 더 일어날수록 더 극단의 아웃라이어가 나타나며 90% CI 구간을 계속 넓힘.
- 한편, 이런 유형의 분포 역시 여전히 상대적으로 적은 발견으로 측정 가능.
- "nonparametric" 방법이라고 부르며 곧 다룰 예정.
- 오호라.

## The Easiest Sample Statistic Ever

- 수렴 안 하는 데이터는 측정이 어려움.
- 적은 샘플로는 90% CI 구간 안에 답이 없을 수도.
- 하한값이 음수가 나오는 문제도 있음.
- 앞서 다룬 "Rule of Five"은 중위값을 구하는 것.
- 한편, t-statistic은 평균을 추정(모든 값의 합을 원소 갯수로 나눈 것).
- 90% CI 중위값을 간단한 통계로 구하는 방법은 Rule of Five 외에도 많음.
- 우리가 8개의 샘플을 고르면, 최대와 최소값은 90% 보다 넓은 99.2%의 CI를 가짐.
- 그런데 두 번째로 큰 값과 작은 값을 고르면 93%이고, 11개의 샘플에서는 3번째의 값이 90% CI에 가까움.
- 이런 식으로 아래 표가 완성됨.

| 샘플 크기 | 샘플 값 | 신뢰 |
| -- | -- | -- |
| 5 | 1st| 93.75 |
| 8 | 2nd | 93.0 |
| 11 | 3rd | 93.5 |
| 13 | 4th | 90.8 |
| 16 | 5th | 92.3 |
| 18 | 6th | 90.4 |
| 21 | 7th | 92.2 |
| 23 | 8th | 90.7 |
| 26 | 9th | 92.4 |
| 28 | 10th | 91.3 |
| 30 | 11th | 90.1 |

- 저자는 이를 가리켜 mathless 90% CI라 부름.
- 샘플 분산을 구하거나, t-statistics 테이블을 보거나, 제곱근을 구할 필요가 없음.
- 이게 가능한 이유는 간단히 말해서 90% CI 중위값/평균 계산에 "중간" 데이터는 중요하지 않기 때문.
- 좀 더 자세한 설명을 위해 parametric 방법 설명 필요.
- parametric 방식에서는 "샘플 분산" 계산이 필요.
- 각 샘플에 대해 평균과의 차를 구하고 결과에 대해 제곱을 했으며 모두 더함.
- 분산은 대부분 평균에서 가장 먼 샘플의 값으로부터 옴.
- 매우 큰 샘플 크기에서도, 표본의 중간 1/3은 분산의 2%에 불과.
- 나머지 98%는 상위 1/3과 하위 1/3에서 나옴.
- 요 방식을 이용하면 t-statistic에 비해서는 살짝 더 넓은 범위의 90% CI 구간을 가짐.
- 하지만 t-statistic의 음수 문제를 보완. 실제 값에 기반하기 때문.
- 그리고 분포에 대한 전제가 필요 없음. 어떤 분포도 가능.
- 사실, mathless 테이블은 중위값을 추정하므로 수렴하지 않는 추정 문제로부터 자유로움.
- 분포가 편향되지 않고 대칭이라면, 중위값과 평균은 동일할 테고, mathless 테이블은 평균을 중위값으로 구할 수 있음.
- 따라서, 수렴할 때는 parametric 방법을, 그렇지 않을때는 mathless와 같은 nonparametric 방법 사용.
- 한편, 이 두 방법 모두 공통된 문제를 가짐.
- 이들은 오직 샘플 값만을 고려.
- 사전 지식은 무시됨.
- calibrated estimator는 반대로 이런 추가 정보들을 쉽게 다룸.
- 당연히 TV 시청 시간 조사에서도 하한값으로 음수를 내놓지는 않을 것.

## A Biased Sample of Sampling Methods

호수 안에 있는 물고기 수를 어떻게 측정할까?

- 이 질문을 받은 회계사나 IT 관리자들은,
- "measure"를 "count"와 동의어로 생각한다고 함.
- 불확실성의 감소가 아닌 정확한 수치를 찾는 식으로 접근.
- 좀 극단적으로 보이긴 하는데, 그래서 호수를 말리고, 죽은 물고기를 세서, 22,573임을 밝혀낸다고.
- 하지만 이 질문을 해양 생태학자에게 하면,
- "catch and recatch" 방법 사용.
- 일단, 샘플링으로 물고기를 잡아 표시한 뒤 놓아줌.
- 다음으로, 샘플링했던 개수만큼 물고기를 다시 잡음.
- 만약, 1,000마리가 샘플이었고 그중 50마리만 표시된 녀석이라면, 호수에 20,000마리가 있다고 결론.
- 이런 식의 샘플링은 이항분포를 따르지만, 지금 같이 숫자가 큰 경우엔 정규 분포의 근사를 구할 수 있음.
- 오류 추정은 앞서 소개한 방법과 동일한데 분산만 조금 다르게 구함.
- 여기서는 측정하려는 그룹 내 점유율과 그룹 밖 점유율의 곱.
- 그러니까, 태그가 부착된 물고기 점유율(0.5)과 태그가 부착되지 않은 물고기의 점유율(0.95)을 곱한 0.0475.
- 왜 그런지는 설명이 없어서 궁금.
- 이제 나머지 절차는 동일.
- 샘플 분산을 샘플 수로 나누고, 제곱근을 구하면, sqrt(0.0475/1,000) = 0.007이 됨.
- 여기에 90% CI z-statistic 값인 1.645(샘플이 큰 경우의 값)를 곱하면 0.007 * 1.645 = 0.011515.
- 0.05에 대해서 더하고 빼면, 3.87% 에서 6.13%가 됨(계산 틀린 것 같아 이상).
- 1,000 / 0.0613 = 16,303 에서 1,000 / 0.0387 = 25,865 사이가 됨.

### Population Proportion Sampling

- 물고기 분포 예제는 흔한 측정 문제 중 하나.
- 모집단에서 특정한 특성을 가진 비율이 얼마나 되는지 알아보고 싶을 때 있음.
- 예를 들어, 얼마나 많은 고객이 새로운 상품을 과거의 것에 비해 선호하는가?
- 이 때, 모집단의 비율인 P를 추정하고자, 샘플에서 차지하는 비율인 p를 사용.
- 물론 샘플링 오류를 생각하면 p를 통해 추정한 P는 실제와는 차이가 있음.
- 중위값을 추정하는 것과 샘플링으로 모집단 비율을 알아내는 것의 차이는 분산의 계산이었음.
- 모집단 비율 추정: p * (1 - p) / n
- 그리고 전체 계산은 아래와 같음.
    - 90% CI 상한: p + 1.645 * (p * (1 - p) / n)^0.5
    - 90% CI 하한: p - 1.645 * (p * (1 - p) / n)^0.5
- 하지만 이는 모집단 분포가 "정규 근사<sup>normal approximation</sup>"를 따른다는 전제에서만 동작.
    - 이를 위한 조건은 p * n > 7 그리고 (1-p) * n > 7
    - 샘플 고객 수가 100명이고, 7명 이하 또는 90명 이상의 분포라면, 위 방식은 X.
    - 이 기준은 출처마다 조금씩 다르긴 하다고 함.
- 샘플이 적을 때에도, 샘플에서 찾은 대상 수(hit)에 따라, 90% CI를 보여주는 표도 있음.

![그림 9-5. 적은 샘플을 위한 모집단 비율 90% CI](./그림%209-5.%20적은%20샘플을%20위한%20모집단%20비율%2090%25%20CI.png)

- 10개가 넘어가는 발견 범위를 기술하진 않았지만,
- 양 끝의 8개를 제외한 가운데 값들은 정규 근사를 따르며,
- 표를 범위를 넘어가는 발견 수에 대해서는 테이블 뒤집기를 사용하면 됨.
- 예컨대, 30개 중 26개의 발견이라면, 6.6% ~ 27%를 뒤집은 63% ~ 93.4%가 됨.

### Spot Sampling

- 스팟 샘플링은 모집단 비율 샘플링의 한 변형.
- 주기적이고 지속적으로 추적하는 대신 대상을 스냅샷으로 남기는 것.
- 직원들이 어떤 일에 얼마나 시간을 할애하는지 보려 한다면,
- 하루 동안 무작위로 사람을 샘플링하고 순간 순간 뭘 하는지 보기.
- 만약, 100개의 무작위 샘플 중 12개가 컨퍼런스 콜을 하는 상황이라면,
- 사람들은 12%의 시간을 컨퍼런스 콜에 사용한다고 보는 것.
- 100개라는 숫자는 앞서 살펴본 대로 정규 분포로 근사치를 구할 수 있을 정도로 충분히 큼.

### Serial Sampling

- 시리얼 샘플링은 통계 분야에서 잘 거론되지 않음.
- 하지만 2차 세계 전쟁 때 정보 수집에 큰 도움 되었음.
- 비즈니스의 특정 문제에 대해서도 큰 도움 될 것.
- 2차 대전 때 V 마크가 있는 독일 탱크가 있었음.
- 이 탱크의 일련 번호엔 날짜와 순차 증가 숫자가 담겨 있음.
- 같은 달에 생산된 탱크 중 10개를 무작위로 포착했고,
- 만약 일련 번호의 범위가 50 정도라면,
- 1,000개를 생산했다기 보다는 80개를 생산했다는 추정이 상대적으로 합리적.
- 기존 연합군이 발행하던 보고서의 추정, 시리얼 샘플링을 사용한 통계학자의 추정, 그리고 실제 생산량을 비교한 표.

| month of production | intelligence estimate | statistical estimate | actual (전쟁 후 발견한 문서 기반) |
| -- | -- | -- | -- |
| 1940. 06 | 1,000 | 169 | 122 |
| 1941. 06 | 1,550 | 244 | 271 |
| 1942. 08 | 1,550 | 327 | 342 |

- 아래 그림은 시리얼 샘플링에서 90% CI 범위를 구하는 과정을 보여줌.

![그림 9-8. 시리얼 샘플링](./그림%209-8.%20시리얼%20샘플링.png)

- 여기서 2가지 주의 사항.
- 먼저, 같은 부대에서 탱크를 샘플링한다면 이는 무작위가 아님.
- 다음으로, 시리얼 번호가 순차 증가가 아니라 중간 번호들이 생략될 수 있으며, 이 때는 약간의 수정이 필요.
- 현대 세상에서도 비즈니스의 여러 분야에 순차 일련 번호 사용됨.
- 그래서 경쟁자의 생산 수준 등을 파악할 수 있음.
- 버려진 보고서나 영수증도 하나의 원천.

### Measure to the Threshold

- 보통 측정을 하려는 이유는 무언가 결정하기 위함.
- 그리고 측정값이 임계치를 넘어가거나 내려가면 뭔가 조치가 필요.
- 대부분의 통계 방법들과 달리, 여기서는 불확실성의 감소에 더해, 중요한 결정 임계치를 지원하는 측정을 살펴보려 함.
- 직원들이 진행하는 회의 중 얼마나 원격 회의로 대체할 수 있는지 측정해 본다고 해보자.
- 직접 만나는 회의는 이동 시간 문제도 있고, 이동 시간의 불확실성에 의해 회의가 미뤄질 수도 있기 때문.
- 자주 만나는 동료들이고 일상적인 주제라면 원격 회의로 대체해 볼 만.
- calibrated 측정에 의해 3%에서 15% 정도가 원격 회의로 대체할 수 있음을 알게 됨.
- 그리고 이 수치가 7%가 넘어가면 정책을 바꾸기로 의사결정.
- EVPI는 15,000$이고 경험적으로 1,500$ 정도만 투자할 수 있음.
- 다시 말해, 직원이 천명이 넘어간다면 전수조사는 안 됨.
- 이제 10명의 직원을 샘플링했다고 해보자.
- 그리고 이 중 1명만이 7% 임계치보다 적은 시간을 회의와 이동에 사용.
- 그렇다면 전체 중위값이 7%보다 적을 가능성을 얼마나 될까?
- 상식적인 답변 중 하나는 1/10인 10%이며, 이것이 왜 상식적인 게 아주 간단한 수학보다 좋지 않은지를 알려줌.
- 실제 가능성은 이보다 훨씬 적음.
- 그림 9-9는 이 계산을 위한 표.

![그림 9-9. 임계치 확률 계산기](./그림%209-9.%20임계치%20확률%20계산기.png)

- 결국 중위값이 임계치보다 적을 확률은 1% 미만.
- 우리의 직관과 달리, 중위값이 임계점의 어느 쪽에 존재하는지는, 이처럼 빠르고 효과적으로 알아낼 수 있음.
- 임계치에 대한 불확실성은 수량의 불확실성보다 빠르게 낮출 수 있음.
- 그리고 이는 모집단 분포 유형과도 관계 없음.
- 극단적 아웃라이어에 의해 추정치가 흔들리는 구조가 아니기 때문.
- 이 측정은 사전 지식이 없음.
- 완전한 불확실성에서 출발함.
- 만약 사전 지식이 있고, 측정 결과가 사전 지식에 부합한다면, 측정을 좀 더 빨리 마무리할 수 있음.
- 사전 지식에 부합하지 않는다면, 좀 더 많은 샘플이 필요할 수도.

### Experiment

- 이미 측정된 것이 없고, 명백한 개입 없이는 추적할 수도 없다면, 실험을 통한 관찰 조건을 만들기.
- "실험"이라는 단어는 넓은 의미에서는 관찰을 위해 의도적으로 만들어진 사건을 가리킴.
- 하지만, "통제된 실험"의 주요 특징은 오류의 고려.
- 에밀리 로사의 실험을 떠올려 보기.
- 또한, 통제는 비교군을 포함.
- 두 그룹 간의 비교는 추정에서의 표준 편차 계산과 비슷.
- 한 가지 사소한 차이점은, 표준 편차가 두 그룹 간 차이에 대한 표준 편차라는 것.
- 이어질 예제에서 다룸.

### An Example Experiment

- 고객 응대 트레이닝이 얼마나 효과 있나 알아본다고 해보자.
- 언제나 그렇듯, 트레이닝 효과에 대한 현재의 불확실성 측정과, 관련 임계값 식별과, 정보 가치 계산으로 시작.
- 몇 가지 측정 도구 검토 후, 관리자는 고객 응대 품질은 고객 사후 설문으로 측정해야 한다고 결정.
- 다만, 단지 얼마나 만족했는지 묻는 대신, 얼마나 많은 주변 친구들에게 긍정 경험을 말했는지를 묻기로 함.
- 과거 마케팅 데이터 기반으로, calibrated 관리자는 0~12% 정도의 매출 상승을 트레이닝 효과로 기대.
- 그리고 2%의 상승이 있어야 트레이닝 효과 비용을 상쇄할 수 있음(즉, 결정 임계치).
- 기준선을 정하기 위해 트레이닝 전에 설문 조사 한 번 실시.
- 그리고 이전 경험을 통해, 고객 당 주변에 평균 1명 이상의 추천은 20%의 매출 상승으로 이어짐을 알고 있음.
- 이제 실험을 해야 하는데, 트레이닝 비용은 비싸니, 처음엔 30명의 무작위 직원을 트레이닝으로 보냄.
- 트레이닝 받은 직원들이 실험군이고, 받지 안은 나머지가 대조군.
- 트래이닝 후 고객 설문을 다시 진행.
- 이 때도 처음과 같이, 직원 당 한 명의 고객만 샘플링 해서 설문.

|  | 샘플 크기 | 중위값 | 분산 |
| -- | -- | -- | -- |
| 실험군((트레이닝 받음) | 30 | 2.433 | 0.392 |
| 대조군 (트레이닝 X) | 85 | 2.094 | 0.682 |
| 기존 기준선 (아무도 트레이닝 안 받았을 때) | 115 | 2.087 | 0.659 |

- 고객 응답은 트레이닝이 도움 되는 것처럼 보임.
- 우연일까? 무작위로 고른 30명의 직원이, 평균적으로 더 뛰어났던 건 아닐까?
- 혹은 무작위로 고른 고객이 상대적으로 더 좋았던 건 아닐까?
- 실험군과 대조군에 대해 우리는 아래 5단계를 거침.
- [1] 각 군의 샘플 분산을 샘플 수로 나눔.
  - 실험군: 0.392 / 30 = 0.013
  - 대조군: 0.682 / 85 = 0.008
- [2] 결과를 더함: 0.013 + 0.008 = 0.021
- [3] 2번의 제곱근을 구함. 이는 대조군과 실험군 차이의 표준편차. 여기서는 0.15
- [4] 각 군의 중위값 차이를 구함: 2.433 - 2.094 = 0.339
- [5] 대조군과 실험군의 차이가 0보타 클 확률을 계산. 즉, 실험군이 진짜로 대조군보다 더 나을 확률. 엑셀의 `normdist` 함수를 이용: normdist(0, 0,339, 0.15, 1)
- [6] normdist 결과는 0.01임. 이는 실험군이 대조군보다 안 좋을 확률이 1% 미만임을 나타냄. 즉, 실험에 대해 99% 정도의 확신.
- 같은 방식으로 대조군을 기준선과 비교할 수도 있음.
- 계산하면 48%의 확률로 대조군이 기준선보다 작음.
- 따라서 무시해도 좋을 차이.
- 이제 트레이닝이 효과가 있을 확률이 매우 높음을 알게 됨.
- 대조군과 실험군의 차이는 0.4이므로, 매출에 있어 8%의 상승을 예상.
- 이 실험의 단순함은, 샘플로 수집한 데이터가, 의사 결정자들이 알고 있는 전부라는 가정에서 일부 기인.
- "사전 지식"이 없어 데이터 해석 등에 영향을 줄 수 없음.

### Now, More about the Meaning of Significance

- 지금까지 설명한 방식은 전통적인 과학 문헌에서 다루는 게 아님.
- 계산과 해석 모두 전형적 가설 검증 방법에 비해 간단.
- 그러나 물론 이 방법은 의사 결정에는 유효.
- 제약 회사가 신약 테스트를 한다고 해보자.
- 보통 사람들은 "약이 효과가 있을 확률은 얼마일까"라고 물음.
- 하지만 제약 회사는 아래와 같이 질문.

> Given that what we observed was a fluke, what is the chance we would observe this difference or an even bigger difference.

- 이 질문의 답을 "p-값"이라 부름.
- 관찰이 단지 무작위 우연일 수 있는 상태를 "귀무 가설(null hypothesis)"이라 함.
- p-값이 임계점보다 적으면, 귀무 가설을 기각.
- 이 임계점을 "유의 수준"이라 하고, 이 절차를 "유의성 검증"이라 함.
- 이런 식으로 약의 효과를 계산함.
- 그러나 실제와는 거리가 있음.
- 유의성 검증은 확률에 대한 빈도주의자 관점의 부산물.
- 새로운 제품의 성공 가능성이나 신약 효과 같은 현실 세상 문제에는, 이 관점의 확률을 적용하는 게 사실상 불가능.
- 수학적으로만 이상적인 아이디어.
- 진짜 "유의성"을 의미하지 못함.

### The Significance of Emily Rosa's Experiment: A Counterfactual Outcome

- 에밀리 로사의 실험은 통계적 유의성 설명을 돕는 훌륭하면서도 단순한 예시.
- 처음 실험을 수행할 땐 테라피스트가 아우라를 감지하거나 감지하지 못할 확률 계산이 없었음.
- 에밀리 실험(책 초반에 나왔기에 설명은 생략)에서, 테라피스트는 280번 중에 123 번 맞췄음.
- 이는 무작위 선택 결과보다 오히려 안 좋은 수준.
- 하지만 만약에 123번 대신 157번 맞았다면 어떨까?
- 아래 그림은 성공 확률이 50%인 사건에서의 각 가능성을 나타냄.
- 예를 들어 132번이 나올 확률은 0.03이고, 163번이 나올 확률은 0.001.
- 각 확률은 이항 분포에 의해 계산된 값(10장에서 다룸).
- 지금은 유의성이라 불리는 것을 판단하는데 이게 어떻게 활용되는지에 집중.

![그림 9-11. 횟수별 확률](./그림%209-11.%20횟수별%20확률.png)

- 그림에서 보듯 280개 중 157개 이상이 맞을 확률은 0.024.
- 이는 우연이라고 하기엔 다소 극단적인 값.
- 에밀리는 "유의성 수준"을 0.05로 잡기를 권장 받았음.
- 따라서, 0.024는 유의성 수준보다 낮고, 테라피스트의 기술이 우연이라고 하기엔 어려우며, 진짜라고 판단할 수 있음.
- 이게 우리가 "통계적 유의성"이라고 부르는 것의 진짜 의미.
- 우리가 관찰로부터 무엇을 배웠느냐에 관한 것이 아님.
- 연구 비용이 지불한 만한 것인지에 대한 것도 아님.
- 다시 말하지만, p-값은 지금 결과나 더 극단적인 결과를 볼 확률.
- 사건이 무작위적 우연으로 일어난다는 가정하에 말이다.
- 의사 결정자들은 다른 질문에 대한 답이 필요.
- 우리가 알고 싶은 건 아래의 질문들.
- 어떤 주장이 참인지 아닌지,
- 불확실성을 고려해서 무엇을 해야하는지,
- 어떤 불확실성을 줄여나가야 하는지.
- 당신이 회사에 테라피스트를 더 추가로 고용해야 하는지 고민일 때,
- 도움이 될지 말지에 대한 위험 게산이나, 추가되는 비용 계산 등에 유의성 검증이 도움이 될까?
- 가설 검증이 결정에 유용하려면, p-값 외에 추가 정보들이 필요.
- 다음 장에서는 사전 확률(prior probabilities)을 다룸.
- 이를 통해, 테라피가 효과가 있을 확률이나, 어떤 가설이 참일 확률을 계산.
- 이는 테라피스트가 운이 좋은 경우에도, 실제 효과는 낮다는 걸 명확하게 드러냄.

### Seeing Relationships in the Data: An Introduction to Regression Modeling

- 세미나에서 가장 많이 받는 질문 중 하나.
- "새로운 IT 시스템 때문에 매출이 올랐을 때, 이 인과관계를 어떻게 알 수 있나요?"
- 노이즈로부터의 단일 변수 효과 격리는 과학적 측정 역사에서 수 없이 다뤄져 온 주제.
- 그리고 이전에 다뤘던 비교군과 대조군 비교는, 단일 변수의 효과를 분리하는 여러 방법 중 하나.
- 그리고 하나의 변수가 다른 변수와 얼마나 상관관계가 있는지도 고려할 수 있음.
- 두 데이터 집단의 상관계수(correlation)는 -1에서 +1 사이로 표현.
- 만약 값이 1이라면 두 변수는 완전히 일치해서 움직인다는 뜻.
- -1은 서로 반대로 움직이는 것.
- 0은 아무런 관련이 없는 것.

![그림 9-12. 상관관계 데이터 예시](./그림%209-12.%20상관관계%20데이터%20예시.png)

- 수학 없이도 그래프를 통해 상관관계를 알 수 있음.
- 프로젝트 비용 예측과 실제 비용을 계속 추적 후 그래프로 나타내면 얼마나 잘 예측하는지도 알 수 있음.
- 다만, 상관관계는 그 자체로 정확하진 않음.
- 예를 들어, 프로젝트 매니저의 예측이 실제 비용에 비해 계속 1/2 정도라도 상관관계는 높음.
- 과거 데이터로 회귀 모델링(regression modeling)을 사용하면, 통제된 실험이 필요 없을 수도.

### A Regression Example: TV Ratings

- 케이블 TV 네트워크 회사에서, 새로운 TV쇼 생산을 위한 몇 가지 사무 업무를 자동화하려 함.
- 업무 단축으로 새로운 쇼 홍보를 더 일찍 시작할 수 있고, 이는 시청률 상승으로 이어진다는 게 기반 주장.
- 시청률 상승은 매출 상승으로 이어짐.
- 하지만 시청률 프로젝트의 효과를 어떻게 예측할 수 있을까?
- 시청률엔 여러 요소가 영향을 줄텐데?
- 과거 자료들 기반으로 일단 각 쇼의 방영 전 얼마나 많은 기간 동안 홍보를 했는지 알 수 있었음.

![그림 9-13. 홍보 기간과 시청률](./그림%209-13.%20홍보%20기간과%20시청률.png)

- 데이터에 대한 추가 분석에 앞서, 상관관계가 보이는가?
- 이건 그냥 눈으로만 봐도 됨. 상관관계 있음.
- 그럼, 얼마나 상관관계가 있는가?
- 한 가지 방법은 엑셀에서 `=correl()` 함수를 사용하는 것.
- 또 다른 방법은 Data Analysis Toolpak에 있는 회귀 도구를 이용하는 것.
- 이 분석을 통해 Multiple R, R square, Intercept, X variable 1(coefficient), P-Value를 얻음.
- 이걸 바탕으로 두 변수의 관계를 나타내는 공식을 만들 수 있음.
- 계산된 값은 보통 "종속 변수(dependent variable)"라 불림.
- 그리고 계산에 사용된 값은 "독립 변수(independent variable)"라 불림.

```
Estimated Ratings = Coefficient * Promotion Weeks + Intercept
```

지금 사례의 값을 대입하면 아래와 같음.

```
Estimated Ratings = 0.0215 * Promotion Weeks + 0.877
```

- 물론, 엑셀의 `=slope()`로 상관계수(coeeficient)를, `=intercept()`로 intercept를 구할 수 있음.
- 지금까지의 작업은 시스템을 바꾸면 평점이 얼마나 개선될지에 대한 우리의 불확실성 줄이기.
- 90% CI 계산 얘기도 있음. 쉬운 방법은 `=STEYX()` 함수로 X에 대한 Y의 오류 표준 편차 구하기.
- 여기서는 0.543이며, 1.645*0.543을 결과에 더하고 빼면 됨.

```
Slope(i.e., coefficient) x change in weeks = 0.215 x 5 = 1.077
90% CI = estimate +/- error = 1.077 +/- 1.645 x 0.543 = 0.18 to 1.97
```

### Parting Thoughts About Regression

제목은 무슨 뜻일까 @_@ 회귀 내용 마치기 전에 마지막으로 하고 싶은 말이라는 것 같음. 아무튼, 회귀 모델에서 추가로 4가지 중요한 것 언급.

1. 상관관계는 인과관계가 아님.
2. 상관관계가 인과관계에 단서는 될 수 있음. 예를 들어, 아무런 상관관계가 없으면 인과관계가 없다고 판단할 수도. 그리고 상관관계를 찾으면 인과관계에도 가능성을 열어 두기. 다음 장에서 이 내용 다룬다고 함.
3. 지금까지 본 건 단순한 선형 회귀. 더 다양한 변수의 함수를 이용한 관계를 얻는 것도 가능.
4. 다른 단순한 도구를 두고 엑셀의 `=correl()`을 사용한 건, 다중 회귀를 수행할 수 있기 때문. 즉, 한 번에 여러 독립적 변수들에 대한 상관계수 계산 가능.

### Perhaps the Two Biggest Mistakes in Interpreting Correlation?

- [1] 가장 큰 실수: 상관관계가 인과관계를 증명한다.
- [2] 두 번째 큰 실수: 상관관계는 인과관계의 단서가 아니다.

지금까지 다룬 건, 사전 지식이 없는 경우의 측정. 하지만, 사전 지식이 있다면 추정에 큰 차이를 만들 수 있음. 다음 장에서는 이 주제를 다룸.

# CH10. Bayes: Adding to What You Know Now

- 통계학을 처음배울 땐 샘플만을 우리가 아는 것이라 가정.
- 하지만, 현실은 그렇지 않음.
- 광고 캠페인이 최근 매출과 연관이 있는지를 알고자 영업 담당자를 샘플링한다고 해보자.
- 한 가지 쉬운 방법은 영업팀 설문조사.
- 그러나, 지금의 계절이 판매에 미치는 영향 등 사전 지식이 있을 것.
- 그리고 이 사전 지식을 반영해야 함.
- 이러한 사전 지식 다루기는 "베이지안 통계"라 불림.
- 베이지안 분석으로, 지금 우리가 얼마 알고 있는지, 새로운 정보를 이 지식에 어떻게 반영해야 하는지 알 수 있음.

## The Basics and Bayes

- 베이즈 이론은 간단하게는 확률과 "조건부" 확률의 관계.
- 조건부 확률이란, 특정한 상황이 주어졌을 때의 뭔가의 확률을 가리킴.
- 아래는 앞으로의 내용을 이해하기 위해 필요한 통계에서의 기본 개념들.

```
Rule 1. How to write "Probability"
  P(A) = Probability of A (0에서 1 사이의 값을 가짐. inclusive)
  P(~A) = the probability of not A (~ 기호를 "no", "not", "isn't", "won't"라고 읽음)

Rule 2. How to write "Sometimes it dependes": Conditional Probability.
  P(A|B) = Conditional probability of A given B
  P(Accident|Rain)은 비가 내릴 때 자동차 사고가 일어날 확률

Rule 3. The "Something has to be true but contradictory things can't be true" rule
  P(A) + P(~A) = 1
  mutually exclusive 그리고 collectively exhaustive 한 확률의 사건이나 상태의 합은 1

Rule 4. The probability of something is the weighted sum of its conditional probabilities
  P(A) = P(A|B)P(B) + P(A|~B)P(~B)

Rule 5. Bayes' Theorem: How to flip a conditional probability
  P(A|B) = P(A)P(B|A) / P(B)
  P(A|B) = P(A)P(B|A) / [P(B|A)P(A) + P(B|~A)P(~A)]
```

- 간단한 "베이지안 inversion 계산기" 사용법 설명은 생략.
- 이런 대수적 조작을 "베이지안 역전<sup>inversion</sup>"이라 부름.

### Example: Applying Bayes to Market Tests of New Products

- 신규 제품 출시 여부를 고민중이라고 해보자.
- 과거 경험과 정보 기반으로 40%의 확률로 신규 제품이 첫 해에 수익을 만들어 낼 것이라고 추정.
- 이를 `P(FYP) = 40%`라고 표현할 수 있음.
- 대개 전면 생산에 앞서 처음엔 테스트 마켓에 제품을 출시.
- 만약 첫 해에 수익성이 좋다면, 이후에도 성공적일 가능성이 80%였음.
- calibrated 측정자들이 이를 선택해서 조건부 확률을 `P(S|FYP) = 80%`라고 설정.
- 그리고 첫 해에 실패했지만 이후 성공할 확률은 `P(S|~FYP) = 30%`라고 설정.
- 하지만 우리의 관심사는 첫해의 수익이 난 경우 마켓에서의 성공으로 이어질 확률이 아님.
- 관심 대상은, 마켓이 성공한 경우의, 첫 해 수익이 날 확률.
- 이는 제품을 계속할지 말지에 대한 중요한 정보.
- 여기가 바로 베이즈 이론이 등장하는 곳.
- 베이즈 이론의 입력값은 아래와 같이 설정.
  - P(FYP): 첫 해의 수익 가능성. 과거 경험 기반으로 40%라고 추정.
  - P(S | FYP): 첫 해에 수익이 났다면, 테스트 마켓에서 성공할 확률. 80%로 추정.
  - P(S | ~FYP): 첫 해 수익 달성 못 했더라도, 테스트 마켓에서 성공할 확률. 30%.
- 일단, P(S)는 50%임을 알 수 있음.
  - 앞서 봤던 rule 4 적용.
  - P(S) = P(S|FYP)P(FYP) + P(S|~FYP)P(~FYP)
  - = 80% x 40% + 30% x 60% = 60% = 50%
- 이제 시장이 성공했을 때의 첫 해 수익 달성 가능성을 알 수 있음.
  - P(FYP|S) = P(FYP)P(S|FYP)/P(S)
  - = 40% x 80% / 50% = 64%
- 시장이 성공적이라면, 첫 해의 수익 가능성은 64%.
- 시장이 성공적이지 않을 때, 첫 해의 수익 가능성도 알 수 있음.
  - P(FYP|~S) = P(FYP)P(~S|FYP) / P(~S) = 40% x 20% / 50% = 16%

### One More Time: A Bayesian Look at Emily's Experiment

- 유의성 검증은 효과가 있는지 판단하거나 의사결정에 필요한 것을 알려주지 않음.
- 신약 임상시험은 신약이 효과 있을 확률 대신, 효과가 없다고 가정했을 때 실험 데이터가 우연히 발생할 확률을 구함.
- 다시 에밀리 로사의 실험으로 돌아가자.
- 만약, 위에서 봤던 결과인 280번 중 123번 대신 157번이 맞았다면?
- 그럼, 터치 테라피는 정말로 작동한다고 봐야 할까?
- 일단, 효과가 없다고 가정할 때, 157번 이상 맞을 확률은 0.024였음.
- 관찰된 결과를 "데이터"라고 하고 p값을 P(data|~TT)라고 하자.
- 우리가 알고 싶은 건 P(TT|data).
- 이 문제를 지금은 단순화해서 이분법으로 접근.
- 그러니까, 터치 테라피가 작동하냐 아니냐로.

```
Rule 5 (Bayes): P(~TT|data) = P(~TT) · P(data|~TT) / P(data)
Rule 3: P(TT|data) = 1 - P(~TT|data)
Bayes Again: P(data|TT) = P(data) · P(TT|data) / P(TT)
One More Bayes: P(TT|data) = P(TT) · P(data|TT) / P(data)
```

- 위 계산들을 거꾸로 이용하면 아래 식을 얻을 수 있음.

```
P(TT|data) = 1 - P(~TT) · P(data|~TT) / P(data)
```

- 여기서 P(~TT)에 대해 규칙 3번 적용.
- 그리고 P(data)에 대해 규칙 4번 적용.

```
P(TT|data)
= 1 - P(~TT) · P(data|~TT) / P(data)
= 1 - (1 - P(TT)) · P(data|~TT) / P(data)
= 1 - (1 - P(TT)) · P(data|~TT) / (P(data|TT)P(TT) + P(data|~TT)P(~TT))
```

- 결국, p-값인 P(data|~TT) 만으로는 P(TT|data)를 알 수 없음.
- 터치 테라피가 동작할지 안 할지에 대한 사전 확률, 그리고 이와 상반되는 데이터를 볼 사전 확률이 필요.
- 그리고 사전 확률을 부여할 의사 결정자는 터치 테라피가 물리학이나 생리학과 관계가 없음을 고려해야 함.
- 또한 우리가 플라시보 효과 영향을 받았을 수 있음도 고려.
- 여기서는 1%를 터치 테라피가 작동할 사전 확률로 부여.
- 그런데 실험에서는 0.05 유의성 수준을 "confirms"했으면 우리 대답은 어떻게 될까?
- 즉, 에밀리 실험의 가설적인 긍정 결과를 고려할 때 터치 테라피가 작동할 확률은?
- `binomdist()` 함수를 이용하면, 280개 중 최소 155개 이상을 맞추면, 유의성 수준을 달성함을 알 수 있음.
- 이제는 P(data | TT)를 계산해야 함.
- 즉, 터치 테라피가 작동한다고 할 때, 유의성 검증을 통과할 확률은?
- 65%의 확률로 아우라를 감지해 낸다고 해보자.
- 그럼 280번 중 0.05 유의성 검증을 통과할 확률은 99.97%.
- "S"를 유의성 검증을 통과하는 것이라고 두고, 다시 문제를 풀어보자.
- P(S | TT) = 0.9997이고, 앞서의 사전 확률을 통해 P(TT) = 0.01였음.

```
P(TT|S)
= P(TT)P(S|TT)/[P(S|TT)P(TT) + P(S|~TT)P(~TT)]
= (0.01)(0.9997)[(0.9997)(0.01) + (0.05)(0.99)]
= 0.17
```

- 결국, 여전히 터치 테라피가 작동할 확률은 17%에 불과. 즉, 우연에 가까움.
- 특성과 주민번호 마지막 3자리의 연관성을 찾는 연구가 여러 번 수행되면, 5% 정도는 유의성 검증을 통과함.
- 만약 사전 확률 P(TT)에 50%를 부여한다면, 그리고 앞서 가상으로 정한 관측 결과라면, P(TT | data)는 95%.
- 하지만, 실제 결과는 테라피스트가 작동하지 않음에 기울어 있었으므로, P(TT | data)는 0에 가까움.

### Demystifying the Urn of Mystery

- 3장에서 항아리 미스터리 문제를 다뤘음.
- 답은 반직관적이지만 베이즈 이론의 전적으로 올바른 결과.
- 사전 불확실성이 최대라고 가정할 때, 샘플 크기에 기반한 간단한 "모집단 비율" 샘플링 문제.
- 구슬 하나를 뽑으니 녹색이었고, 이를 기반으로 항아리에 녹색이 더 많을 확률을 75%로 추정함.
- 첫 번째 뽑기 전에는 구슬 분포가 균등했음.
- 직관적으로, 녹색이 더 많을(majority is green) 확률은 50%이고, 녹색 구슬을 뽑을(draw a green) 확률은 50%임.
- 두 값이 같으므로 베이즈 이론에서는 P(MG)와 P(DG)는 서로 상쇄.
- 그래서 P(MG|DG)는 P(DG|MG)와 동일.

```
P(MG|DG) = P(MG) · P(DG|MG) / P(DG) = P(DG|MG)
```

- 만약 녹색이 더 많고 분포가 균일하다면,
- 규칙 4를 이용해서 가중 평균 녹색 비율은 75%.
- 즉, P(DG|MG) = 75%.
- P(MG|DG) = P(DG|MG)이므로 P(MG|DG) = 75%.
- 샘플링을 계속하면서 추정치를 다듬어갈 수 있음.
- 그림 10-3은 5개의 샘플이 불확실성을 어떻게 줄여주는지를 보여줌.

![](./그림%2010-3.%205개의%20샘플과%20녹색이%20더%20많을%20확률.png)

## Using Your Natural Bayesian Instinct

- 정성적인 데이터도 불확실성을 줄일 수 있음.
- 수학적으로 정량화하기 어려운 복잡한 문제도 다룰 수도.
- 앞서 다룬 광고 캠페인 사례에서, 영업 팀의 여러 사람들과 함께 함.
- 그들의 평가를 활용했지만, 그들 각각에 대한 정성적 지식도 있었음.
- 각 개인이 얼마나 합리적이고 신중한가, 지나치게 낙관적이진 않은가 등.
- 통계는 이런 지식을 어떻게 고려할까?
- 다행히 손쉬운 방법이 있음.
- 젤리 빈 사례의 주관적 추정과 동일.
- 이를 직관적 베이지안 접근법이라 부르자.

```
1. calibrated 추정으로 시작
2. 추가 정보를 모으기 (투표나 다른 연구 결과 등)
3. calibrated 추정을 주관적으로 업데이트 (여기엔 수학이 필요치 않음)
```

- 다만 여기서 사전 정보를 상대적으로 덜 중요하게 다루는 오류를 지적.
- 이를 극복하기 위한 방법으로 2가지 제시.
- 1) 단지 사전 확률의 영향을 인식하는 것만으로 도움이 됨. 물론, 명시적으로 각 확률과 조건부 확률을 추정하고, 일관성 있는 값 집합을 찾으면 더 좋음.
- 2) calibrated 추정자는 베이지안이 되는 데 유리. 과신을 피하면서도 베이지안 본능을 가져야 함.
- 2006년에 calibrated 추정자들이 있는 정부 기관을 찾아가 아래 5가지 질문을 했다고 함.

```
A. 4년 후 민주당이 대통령이 될 확률은?
B. 4년 후, 민주당이 대통령이 됐다고 가정할 때, 예산이 오를 확률은?
C. 4년 후, 공화당이 대통령이 됐다고 가정할 때, 에산이 오를 확률은?
D. 4년 후, 예산이 오를 확률은?
E. 4년 후 예산이 올랐다고 해보자. 그럼 민주당이 대통령일 확률은?
```

- 일단 D = A x B + (1 - A) x C
- 그리고 베이지안으로 B = D/A x E 관계가 성립함.
- E는 어려워 보이지만 calibrated 의사결정자들은 베이지안 관계에 근접한 답을 직관적으로 냈다고 함.
- 이들은 A, B, C, D, E에 대해 각각 55%, 70%, 40%, 50%, 75%를 답함.
- 참고로, A, B, C에 대한 답은 논리적으로 D, E가 56%, 68%여야 함. 50%, 75%가 아니라.

```
E = P(민주당|예산오름)
= P(민주당) x P(예산오름|민주당) / P(예산오름)
= A x B / D

D = 0.55 * 0.7 + (1 - 0.55) * 0.4 = 0.56
E = A * B / D = 0.55 * 0.7 / 0.56 = 0.68
```

- 조건부 확률의 주관적 calibrated 추정을 일관되게 낼 수 있게 돕는 베이지안 보정 방법 소개.
- 이 방법은 베이즈 규칙과 rule 3, 4를 사용해 주관적 추정의 일관성을 테스트.
- 질문에 대한 답을 했을 때, 이 경우의 베이지안 답변은 이렇다는 걸 보여줌.
- 그럼 답변자들은 주관적 추정을 어느 정도 일관성 있게 보정.
- 예컨대, 올해 공장의 사고 가능성을 30%라고 추정했다고 해보자.
- 작업에 대한 세부적 검사를 수행하면, 그리고 이 검사를 80% 확률로 통과한다고 할 때, 사고를 10%까지 줄일 수 있음.
- 만약 검사에 실패한다면, 사고 확률을 50%라고 추정.
- rule 4를 이용하면 0.8 * 0.1 + 0.2 * 0.5 = 0.18.
- 그러니까 30%가 아니라 18%여야 함.
- 수치가 어느 정도 들어 맞으려면 추정치 중 하나를 변경해야 함.
- 이런 식으로 베이지안 반전 계산기를 활용해 보정을 해나가는 것.

## Heterogeneous Benchmarking: A "Brand Damage" Application

- 앞서 봤듯이 사람들은 직관적인 베이지안, 그리고 calibrated 측정자가 될 수 있음.
- 우리는 생각보다 많은 걸 알고 있음.
- 정성적 데이터도 혹은 어느 정도만 정량 데이터가 있어도 도움이 됨.
- 그리고 이 데이터는 꼭 같은 종류일 필요는 없음.
- "이기종 벤치마크"여도 괜찮음.
- 예컨대, 현재 도시의 시장 크기를 생각할 때, 옆 도시의 시장 크기를 아는 것만으로 큰 도움이 됨.
- 남은 부분에서는 IT 보안에서의 브랜드 손상 사례 설명.

## Bayesian Inversion for Ranges: An Overview

- 앞서의 많은 차트와 표는 베이지안 역산<sup>inversion</sup>을 이용한 것.
- "내가 본 상황을 고려할 때, X가 참일 가능성은?"
- "X가 참이라면, 내가 본 상황의 가능성은?"
- 두 번째 질문이 답하기 더 쉬우며, 이를 통해 첫 번째 질문에 답할 수 있음.
- 아마도 `P(A|B) = P(A)P(B|A) / P(B)`를 말하는 듯.
- 그리고 지금까지는 참이냐 거짓이냐의 2가지 결과만 다룸.
- 하지만 우리는 연속적인 양을 측정할 수 있음.
- 2가지 연속체를 다룰 것.
- 하나는 모집단 비율, 다른 하나는 모집단 평균 추정.

### Example: Percentage of Customers Kept After a Change

- Urn of Mystery에서 녹색이 더 많을 확률만 구한 게 아님.
- 90% CI가 45%에서 82% 사이가 됨을 구함.
- 이는 단순 확률보다 유용하며, 사전 지식(prior)이 있다면 더더욱 유용.
- 이제 이를 실용적 비즈니스 측정 문제에 적용해보자.
- 자동차 부품 판매 매장을 하고 있다고 가정.
- 얼마나 많은 고객이 내년에도 방문할지 예상.
- 소매업이 긴축 중임을 고려할 때, 90% CI를 35 ~ 75%로 예상.
- 그리고 73%가 넘지 않으면 확장을 멈춰야 함.
- 만약 50% 이하라면 교통량이 더 많은 곳으로 이전해야 함.
- 정보의 가치(EVI)는 50만 달러로 계산했으므로 측정은 진행하기로.
- 이때 고객에게 부담이 되는 고객 설문은 최소화하기로.
- 점진적 측정을 하기로 마음먹으며, 20명의 고객으로부터 샘플링.
- 만약 14명이 내년에도 방문한다고 했다면(그리고 고객 답변의 신뢰성이 높다고 가정), 범위는 어떻게 바뀔까?
- 다시 말하지만, 전형적인 비-베이지안 방식에서는 사전 범위를 계산에 고려하지 못함.
- 아래는 원래의 추정, 베이지안 결과, 그리고 사전 지식을 전혀 고려하지 않는 샘플링 결과(robust 베이지안)를 보여줌.

![그림 10-6. 고객 유지 비교](./그림%2010-6.%20고객%20유지%20비교.png)

- 가운데의 베이지안 결과는 다른 두 결과의 사이에 있을뿐만 아니라 더 좁은 범위를 나타냄.
- 이를 구하려면 항상 먼저 묻는 "만약 X라면, 이 관측 확률은?" 질문부터.
- "90% 고객이 매장에 다시 오기로 했다면, 20명의 고객 중 오겠다고 답할 비율은?"
- 이항 분포를 이용하면, 한 번의 시도에 대한 성공 확률이 있고, 얼마나 시도했는지 주어졌을 때, 성공 횟수에 대한 확률을 계산할 수 있음.
- 예를 들어, 동전 던지기를 할 때, 던지기는 시도이고, 앞면이 나오는 것을 성공이라 볼 수 있고, 이 때의 성공 확률은 50%.
- 10번의 시도 중 앞면을 4번 만날 확률을 알고 싶다고 하자.
- 조합 확률(nPr/r!)을 구해도 되지만 그냥 엑셀 공식을 활용해도 됨.

```
= binomdist(number of hits, number of trials, probability of a hit, o)
= binomdist (4, 10, 0.5, 0)
= 0.205
```

- 참고로 마지막 0은 cumulative probability를 사용 안 하겠다는 의미.
- 부품 가게 사례에서 고객이 "1년 뒤에도 또 올 거에요"라고 한 건 hit고 샘플 사이즈는 trial.
- 20명 중 14명이 또 온다고 할 확률은 `binomdist(14, 20, 0.9, 0) = 1%`.
- 0 ~ 14명이 온다고 할 확률의 누적은 `binomdist(14, 20, 0.9, 1) = 1.1%`.
- 즉, 14 hit까지는 일어날 가능성이 매우 작음.
- 이제 7장에서 했던 것처럼, 이산 근사 방법을 적용해보자.
- 모집단 비율의 가능한 범위를 1%씩 여러 증분으로 쪼개고 각각에 대해 계산.

```
P(Prop = X|Hits = 14 of 20)
= (Prop = X) x P(Hits = 14 of 20|Prop = X)/P(Hits = 14 of 20)
```

- P(Hits = 14 of 20 | Prop = 90%)는 엑셀 binomdist를 통해 알고 있음.
- 이제 P(Prop = X)와 P(Hits = 14 of 20)을 구해야 함.
- 각 1%에 대해서는 `normdist()`를 이용하면 됨.
- 예를 들어, 78%에서 79% 사이의 고객이 다시 방문할 확률은 아래와 같음.

```
= normdist(0.79, 0.55, 0.122, 1) - normidst(0.78, 0.55, 0.122, 1)
```

- 여기서 0.55는 원래 calibrated 범위였던 35 ~ 75%의 중간값.
- 0.122는 표준 편차이며 (75% - 35%)/3.29임(3.29는 90% CI에서의 표준 편차였음).
- 이번에는 P(Hits = 14 of 20)을 구할 차례.
- P(Y|X)와 P(X)를 알 때, 모든 X 값에 대한 P(Y|X) x P(X)를 더하면 P(Y)를 알 수 있음.
- P(Hits = 14 of 20 | Prop = X)와 P(Prop = X)를 계산할 수 있으니, 두 값을 곱을 모든 X에 대해 구해 더하면 됨.
- 이로 인해 P(Hits = 14 of 20) = 8.09%가 됨.
- 모집단 비율에 대한 각 증분 확률을 누적시키면, 48%까지의 증분 누적은 전체의 5%, 75%까지의 누적은 95%가 됨.
- 새로운 905 CI는 48%에서 75%가 되는 것.
- 10-6 그림에서 봤던 그림에서 가운데 분산 결과.
- 이제부터는 우리 의사 결정에 미치는 베이지안 분석의 영향을 살펴보자.
- 결론은 이사를 하면 안 되나 확장은 미뤄야 함을 좀 더 명확히 알 수 있음.

| 분산 원천 | 확장 연기 신뢰도 (고객 유지 < 73%) | 이사 신뢰도 (고객 유지 < 50%) |
| -- | -- | -- |
| 초기 추정 | 93% | 34% |
| 샘플만 고려 | 69% | 4.3% |
| 둘 다 고려한 베이지안 | 91% | 6.5% |

- 좀 더 정보가 필요하다면 고객 설문을 좀 더 하면 됨.
- 그러나 200명의 고객 조사를 한다고 해도 추정치가 조금만 바뀔 뿐임.
- 베이지안 분석은 초기 추정 조정을 위해 소량의 샘플을 수집했을 때 유용.

### Bayes for Estimates of Means

- 이번엔 고객이 평균적으로 얼마나 매장에 머무는지 알려고 함.
- 앞선 사례처럼 "예" 또는 "아니오" 답변이 아니라 방문 당 머무는 시간 필요.
- 사전 지식을 반영해야 해서, student's t나 수학 없는 테이블 사용 불가.
- 샘플의 값이 범위로 구성되고 사전 지식을 반영하려면,
- 베이지안 모집단 비율 방법을 확장해서 사용하면 됨.
- 항아리 사례를 조금 바꿔 각 구슬에 숫자가 표기되어 있다고 하자.
- 이 숫자는 1년간 영화에 쓰는 시간이나 다이어트 시간 등의 양을 나타냄.
- 그리고 이 값의 분포는 균등 분포나 정규 분포 혹은 한 쪽에 쏠린 유형일 수 있음.
- 모집단의 이 분포를 알면 평균이나 중간값 등을 알 수 있음.
- 그리고 샘플을 활용하면 어느 정도는 가능한 분포의 종류를 줄일 수 있음.
- 모집단 비율과 유사하게 풀 건데, 다만 샘플이 여러 구간 중 특정 구간에 "hit" 했냐 아니냐로 접근.
- 예를 들어, 증분을 10으로 하고 100개의 값 구간을 둔다면, 샘플 값이 140-150 사이에 있을 때 그 구간에 "hit"이고, 나머지 99개 구간에 대해서는 "miss".
- 다음으로는, 특정 분산이 실제 모집단 분산일 가능성을 구해야 함.
- 시작은, 모집단이 정규 분포일 것이라는 사전 지식으로 할 수 있음.
- 혹은 샘플이 2~3배씩 늘어나는 형태이거나 균등하다는 사전 지식이 있을 수도.
- 책에서는 증분이 너무 작으면 힘들 수 있으니 해상도를 낮춰 4개만 두고 있음.
- 250씩 4개를 두고 있는데, 이는 상황에 맞게 조절하면 됨.
- 그리고 가능한 분포는 아래의 4개를 선택.

![그림 10-8. 범위 분포](./그림%2010-8.%20범위%20분포.png)

- 위 분포에서 A, B, C, D에 대해 각각 사전 확률을 10%, 20%, 40%, 30%를 부여했다고 가정.
- 그리고 한 번에 샘플 한 개 뽑기로 시작.
- 전체 과정은 앞서 사용했던 방식을 그대로 적용.
- 이렇게 하면 아래 그림과 같은 확률 변화를 볼 수 있음.
- 아래 분포 중 확률 높은 것을 고르고 평균, 중위값, 표준 편차 등을 구하면 됨.

![그림 10-9. 샘플링에 따른 각 모집단 분포의 가능성](./그림%2010-9.%20샘플링에%20따른%20각%20모집단%20분포의%20가능성.png)

## The Lessons of Bayes

- 베이즈 이론은 강력한 도구.
- 측정 질문을 재구성해 유용하게 만들어 줌.
- "X가 참이라면, 관측 결과가 일어날 확률은?" 질문으로 시작.
- 이 질문은 좀 더 직관적이며, 결국엔 아래 질문으로 이끌어 줌.
- "이 관측이 주어졌을 때, X가 참일 확률은?".
- "즉, 이 관측으로부터 무슨 결론을 낼 수 있는가?"
- 또한 어떤 가설이 주어졌을 때의 다른 관측 확률에 대해서도 생각하게 함.
- 그리고 그 결과의 의미에 대해서까지도.
- 이런 특성은 측정 회의론자의 걱정과 오해를 해소.
- 구체적으로 알아보기 전에 4가지 흔한 오해를 알아봄.
- 이들은 결국 하나로 이어짐.
